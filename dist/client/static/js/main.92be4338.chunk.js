(this["webpackJsonp@cotype/client"]=this["webpackJsonp@cotype/client"]||[]).push([[0],{304:function(e,t,n){e.exports=n(560)},361:function(e,t,n){},560:function(e,t,n){"use strict";n.r(t);n(305);var a=n(0),i=n.n(a),r=n(33),o=n.n(r),l=(n(361),n(3)),c=n(4),s=n(5),u=n(6),d=n(1),p=n(21),m=n(44),f=n(69),h=n(8),v=/^.*\/admin/.exec(window.location.pathname);if(!v)throw new Error("Path for the admin UI must include /admin");var b=Object(h.a)(v,1)[0],g=b,y=b.replace("/admin",""),x=n(10),O=n(9),j=n(295),w=n(40),C=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e,a){var i;return Object(l.a)(this,n),(i=t.call(this,e.statusText)).status=void 0,i.body=void 0,i.status=e.status,i.body=a,i}return n}(Object(j.a)(Error));function E(e){return e+"/"}var k=new(function(){function e(t){Object(l.a)(this,e),this.baseURI=void 0,this.baseURI=t}return Object(c.a)(e,[{key:"getBody",value:function(e){if(204===e.status)return Promise.resolve();var t=e.headers.get("content-type");return t&&/application\/json/.test(t)?e.json():Promise.resolve()}},{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=this,a=t.query,i=Object(O.a)(t,["query"]),r=a?Object(w.stringify)(a,{addQueryPrefix:!0,encodeValuesOnly:!0}):"";return fetch("".concat(this.baseURI).concat(e).concat(r),Object(x.a)({credentials:"include"},i)).then((function(t){return n.getBody(t).then((function(n){if(t.ok)return n;throw 403===t.status&&"/info"!==e&&window.location.reload(),new C(t,n)}))}))}))},{key:"get",value:function(e,t){return this.fetch(e,{query:t})}},{key:"del",value:function(e,t){return this.fetch(e,Object(x.a)({method:"delete"},t))}},{key:"submit",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0;return this.fetch(t,Object(x.a)({method:e,headers:{"content-type":"application/json"},body:JSON.stringify(n)},a))}},{key:"post",value:function(e,t,n){return this.submit("post",e,t,n)}},{key:"put",value:function(e,t,n){return this.submit("put",e,t,n)}},{key:"list",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e.type,i=e.name;return this.get("/".concat(a,"/").concat(i),Object(x.a)({},t,{},n))}},{key:"load",value:function(e,t){var n=e.type,a=e.name;return this.get("/".concat(n,"/").concat(a,"/").concat(t))}},{key:"loadVersion",value:function(e,t,n){var a=e.type,i=e.name;return this.get("/".concat(a,"/").concat(i,"/").concat(t,"/versions/").concat(n))}},{key:"getVersions",value:function(e,t){var n=e.type,a=e.name;return this.get("/".concat(n,"/").concat(a,"/").concat(t,"/versions"))}},{key:"save",value:function(e,t,n){var a=e.type,i=e.name;if(t)return this.put("/".concat(a,"/").concat(i,"/").concat(t),n);var r={data:n};return this.post("/".concat(a,"/").concat(i),r)}},{key:"delete",value:function(e,t){var n=e.type,a=e.name;return this.del("/".concat(n,"/").concat(a,"/").concat(t))}},{key:"publish",value:function(e,t,n){return this.post("/".concat(e.type,"/").concat(e.name,"/").concat(t,"/publish"),{rev:n})}},{key:"unpublish",value:function(e,t){return this.publish(e,t,null)}},{key:"schedule",value:function(e,t,n){return this.post("/".concat(e.type,"/").concat(e.name,"/").concat(t,"/schedule"),n)}},{key:"listMedia",value:function(e){return this.get("/media",e)}},{key:"loadMedia",value:function(e){return this.get("/media/".concat(E(e)))}},{key:"updateMedia",value:function(e,t){return this.post("/media/".concat(E(e)),t)}},{key:"deleteMedia",value:function(e){return this.del("/media/".concat(E(e)))}}]),e}())("".concat(g,"/rest")),S=n(7),_=i.a.createContext(null),I=_;function L(e){return function(t){return i.a.createElement(_.Consumer,null,(function(n){return i.a.createElement(e,Object.assign({},t,{user:n}))}))}}var N=n(187),V=n.n(N),M=Object(d.b)("div").withConfig({displayName:"PopoverMenu__Menu",componentId:"ti959b-0"})(["box-shadow:0 2px 12px rgba(0,0,0,0.2);background:#fff;border-radius:3px;padding:5px 0;max-height:500px;overflow:scroll;"]),D=Object(d.b)("div").withConfig({displayName:"PopoverMenu__Item",componentId:"ti959b-1"})(["padding:15px;border-bottom:1px solid #f0f0f0;:last-child{border-bottom:none;}:hover{background:var(--light-color);}",""],(function(e){return e.active&&"background: var(--light-color);"})),R=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isPopoverOpen:!1},e.close=function(){e.setState({isPopoverOpen:!1})},e.renderPopover=function(t){var n=t.position,a=t.targetRect,r=t.popoverRect;return i.a.createElement(N.ArrowContainer,{position:n,targetRect:a,popoverRect:r,arrowColor:"#fff",arrowSize:5},e.props.renderMenu(e.close))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.position,a=void 0===n?"bottom":n,r=t.align,o=void 0===r?"start":r,l=t.children,c=this.state.isPopoverOpen;return i.a.createElement(V.a,{isOpen:c,position:a,align:o,content:this.renderPopover,containerStyle:{overflow:"visible",zIndex:"4"},onClickOutside:this.close,transitionDuration:0},i.a.createElement("div",{style:{display:"inline-flex"},onClick:function(){return e.setState({isPopoverOpen:!c})}},l))}}]),n}(a.Component),z=n(78),T=n.n(z),F=new T.a({saturation:.7,lightness:.6}),H=Object(d.b)("div").withConfig({displayName:"ImageCircle__Circle",componentId:"ukbl3a-0"})(["flex-shrink:0;display:flex;justify-content:center;align-items:center;background-color:#f5f5f5;width:3em;height:3em;overflow:hidden;border-radius:100%;background-position:50%;background-size:cover;margin-right:0.6em;text-transform:uppercase;font-weight:700;color:rgba(255,255,255,0.5);"]);function P(e){var t=e.src,n=e.alt,a=void 0===n?"":n,r=e.size,o=void 0===r?24:r,l=Object(O.a)(e,["src","alt","size"]),c=t&&/\.(jpg|jpeg|svg|png)$/i.test(t);return i.a.createElement(H,Object.assign({},l,{style:{backgroundColor:c?"transparent":F.hex(String(a)),backgroundImage:c?"url(".concat(t,")"):"none",fontSize:o}}),!c&&a.toString().slice(0,2))}function A(e,t){if(0===e)return"0 Bytes";var n=t||2,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]}function q(e){var t={\u00e0:"a",\u00e4:"ae",\u00e1:"a",\u00e2:"a",\u00e6:"a",\u00e5:"a",\u00eb:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00ee:"i",\u00ef:"i",\u00ec:"i",\u00ed:"i",\u00f2:"o",\u00f3:"o",\u00f6:"oe",\u00f4:"o",\u00f8:"o",\u00f9:"o",\u00fa:"u",\u00fc:"ue",\u00fb:"u",\u00f1:"n",\u00e7:"c",\u00df:"s",\u00ff:"y",\u0153:"o",\u0155:"r",\u015b:"s",\u0144:"n",\u1e55:"p",\u1e83:"w",\u01f5:"g",\u01f9:"n",\u1e3f:"m",\u01d8:"u",\u1e8d:"x",\u017a:"z",\u1e27:"h","\xb7":"-","/":"-",_:"-",",":"-",":":"-",";":"-"};return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/./g,(function(e,n,a){return t[e]||e})).replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-")}var B={};function U(e){return Object({NODE_ENV:"production",PUBLIC_URL:"/admin",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_TEST_ENV?{"data-testid":e}:B}function W(e,t){if(t){var n=t.split("/:"),a=Object(h.a)(n,2),i=a[0],r=a[1];if(!r)return i;var o=r.split(".").reduce((function(e,t){return e&&"undefined"!==e[t]?e[t]:void 0}),e);return"".concat(i,"/").concat(o)}}var Z=function(e,t){return new RegExp(("^"+t.split("*").join(".*")+"$").replace("+","\\+")).test(e)},Y=i.a.createContext(null),G=Y;function $(e){return function(t){return i.a.createElement(Y.Consumer,null,(function(n){return i.a.createElement(e,Object.assign({},t,{modelPaths:n&&n.modelPaths,baseUrls:n&&n.baseUrls}))}))}}var X=$(L(function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).logout=function(){k.post("/logout",{}).then((function(){window.location.href=e.props.baseUrls.cms||"/"}))},e.renderMenu=function(){return i.a.createElement(M,null,i.a.createElement(D,{onClick:e.logout},"Logout"))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.user;if(!e)return null;var t=e.picture&&"/thumbs/square/".concat(e.picture),n=e.name||e.email;return i.a.createElement(R,{renderMenu:this.renderMenu},i.a.createElement(P,Object.assign({},U("profile-image"),{src:t,alt:n,size:14})))}}]),n}(a.Component))),K=n(293);function J(){var e=Object(S.a)(["\n  background: var(--primary-color);\n  font-size: 1.5em;\n  color: #fff;\n  border: none;\n  border-radius: 3px;\n  padding: 0.5em 2em;\n"]);return J=function(){return e},e}function Q(){var e=Object(S.a)(["\n  width: 100%;\n  box-sizing: border-box;\n  font-size: inherit;\n  outline: none;\n  min-height: var(--input-min-height);\n  background: #fff;\n  padding: 10px;\n  border-radius: 4px;\n"]);return Q=function(){return e},e}function ee(){var e=Object(S.a)(["\n  background: #fff;\n  border-radius: 4px;\n  width: 100%;\n  box-sizing: border-box;\n  font-size: inherit;\n  border: 1px solid rgba(0, 0, 0, 0.16);\n  padding: 10px;\n  outline: none;\n  transition: box-shadow 0.1s ease, width 0.1s ease;\n  min-height: var(--input-min-height);\n  :focus,\n  :active {\n    border-color: var(--accent-color);\n    box-shadow: 0 0 0 3px var(--semi-transparent-accent-color);\n  }\n"]);return ee=function(){return e},e}function te(){var e=Object(S.a)(["\n  color: var(--error-color);\n  margin-top: 6px;\n"]);return te=function(){return e},e}function ne(){var e=Object(S.a)(["\n  display: block;\n  color: #848484;\n  margin-bottom: 6px;\n"]);return ne=function(){return e},e}function ae(){var e=Object(S.a)(["\n  display: block;\n  margin-bottom: 24px;\n"]);return ae=function(){return e},e}function ie(){var e=Object(S.a)(["\n  box-sizing: border-box;\n  padding-top: 24px;\n  padding-bottom: 24px;\n  padding-left: 24px;\n"]);return ie=function(){return e},e}Object(d.a)(ie());var re=Object(d.a)(ae()),oe=Object(d.a)(ne()),le=Object(d.a)(te()),ce=Object(d.a)(ee()),se=Object(d.a)(Q()),ue=Object(d.a)(J()),de=d.b.input.withConfig({displayName:"styles__Input",componentId:"sc-1opzivd-0"})(["",""],ce),pe=d.b.label.withConfig({displayName:"styles__Field",componentId:"sc-1opzivd-1"})(["",""],re),me=d.b.div.withConfig({displayName:"styles__Label",componentId:"sc-1opzivd-2"})(["",""],oe),fe=d.b.div.withConfig({displayName:"styles__Error",componentId:"sc-1opzivd-3"})(["",""],le),he=d.b.button.withConfig({displayName:"styles__Button",componentId:"sc-1opzivd-4"})(["",""],ue);function ve(){var e=Object(S.a)(["\n      font-weight: 700;\n    "]);return ve=function(){return e},e}function be(){var e=Object(S.a)(["\n      color: rgba(0, 0, 0, 0.95);\n      background: var(--light-color);\n    "]);return be=function(){return e},e}var ge=Object(d.b)("div").withConfig({displayName:"Autocomplete__Item",componentId:"qah846-0"})(["display:flex;align-items:center;width:100%;box-sizing:border-box;padding:10px;",";",";&:hover{cursor:pointer;}"],(function(e){return e.isActive&&Object(d.a)(be())}),(function(e){return e.isSelected&&Object(d.a)(ve())})),ye=Object(d.b)("div").withConfig({displayName:"Autocomplete__Root",componentId:"qah846-1"})(["display:flex;justify-content:space-between;align-items:center;padding:0;position:relative;min-height:42px;"]),xe=Object(d.b)("div").withConfig({displayName:"Autocomplete__ListWrapper",componentId:"qah846-2"})(["position:absolute;left:0;right:0;top:100%;height:1px;z-index:1;"]),Oe=Object(d.b)("div").withConfig({displayName:"Autocomplete__ScrollList",componentId:"qah846-3"})(["background:#fff;transition:opacity 0.1s ease;border:1px solid #f0f0f0;border-top-width:0;box-shadow:0 12px 12px -12px rgba(0,0,0,0.2);border-radius:4px;max-height:250px;overflow:hidden;overflow-y:scroll;"]),je=Object(d.b)("button").withConfig({displayName:"Autocomplete__Button",componentId:"qah846-4"})(["background-color:transparent;border:none;width:47px;display:flex;flex-direction:column;justify-content:center;align-items:center;outline:none;"]);function we(e){var t=e.isOpen;return i.a.createElement("svg",{viewBox:"0 0 20 20",preserveAspectRatio:"none",width:16,fill:"transparent",stroke:"#666",strokeWidth:"1.1px",transform:t?"rotate(180)":void 0},i.a.createElement("path",{d:"M1,6 L10,15 L19,6"}))}function Ce(){return i.a.createElement("svg",{viewBox:"0 0 20 20",preserveAspectRatio:"none",width:12,fill:"transparent",stroke:"#666",strokeWidth:"1.1px"},i.a.createElement("path",{d:"M1,1 L19,19"}),i.a.createElement("path",{d:"M19,1 L1,19"}))}var Ee=Object(d.b)(de).withConfig({displayName:"Autocomplete___StyledInput",componentId:"qah846-5"})(["",""],(function(e){return e._css2})),ke=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).wasOpen=!1,e.setInput=function(t){t&&e.wasOpen&&t.focus()},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.toggleButton,a=t.placeholder,r=t.itemToString,o=t.renderItem,l=void 0===o?this.props.itemToString:o,c=t.items,s=void 0===c?[]:c,u=t.inputElementCss,d=void 0===u?ce:u,p=t.style,m=t.name,f=Object(O.a)(t,["toggleButton","placeholder","itemToString","renderItem","items","inputElementCss","style","name"]);return i.a.createElement(K.a,Object.assign({itemToString:r,itemCount:s.length},f),(function(t){var o=t.getInputProps,c=t.getToggleButtonProps,u=t.getItemProps,f=t.isOpen,h=t.toggleMenu,v=t.clearSelection,b=t.selectedItem,g=t.highlightedIndex,y=t.getRootProps;return i.a.createElement(ye,Object.assign({style:p},y()),b?l(b):i.a.createElement(Ee,Object.assign({},o(),{ref:e.setInput,placeholder:a,name:m,onClick:function(){f||b||h()},_css2:d})),n&&(b?i.a.createElement(je,{type:"button",onClick:function(){e.wasOpen=!0,v()}},i.a.createElement(Ce,null)):i.a.createElement(je,c(),i.a.createElement(we,{isOpen:f}))),f&&s.length?i.a.createElement(xe,null,i.a.createElement(Oe,null,s.map((function(e,t){return i.a.createElement(ge,Object.assign({key:r(e)+t},u({item:e,index:t,isSelected:b===s[t]}),{isActive:g===t}),l(e))})))):null)}))}}]),n}(a.Component),Se=n(271),_e=n.n(Se),Ie=n(567),Le=new T.a({saturation:.7,lightness:.6}),Ne=Object(d.b)("div").withConfig({displayName:"ResultItem__ImageItem",componentId:"sc-4q30tv-0"})(["width:100%;display:flex;align-items:center;color:var(--dark-color);min-width:0;"]),Ve=Object(d.b)(p.b).withConfig({displayName:"ResultItem__Container",componentId:"sc-4q30tv-1"})(["width:100%;text-decoration:none;color:var(--dark-color);min-width:0;"]),Me=Object(d.b)("div").withConfig({displayName:"ResultItem__Wrapper",componentId:"sc-4q30tv-2"})(["min-width:0;width:100%;"]),De=Object(d.b)("div").withConfig({displayName:"ResultItem__DescriptionWrapper",componentId:"sc-4q30tv-3"})(["display:flex;"]),Re=Object(d.b)("div").withConfig({displayName:"ResultItem__TitleWrapper",componentId:"sc-4q30tv-4"})(["display:flex;justify-content:space-between;"]),ze=Object(d.b)("div").withConfig({displayName:"ResultItem__Description",componentId:"sc-4q30tv-5"})(["color:var(--dark-grey);padding-top:4px;font-size:0.8rem;min-width:0;"]),Te=Object(d.b)("div").withConfig({displayName:"ResultItem__Title",componentId:"sc-4q30tv-6"})(["overflow:hidden;white-space:nowrap;text-overflow:ellipsis;"]),Fe=Object(d.b)("div").withConfig({displayName:"ResultItem__Kind",componentId:"sc-4q30tv-7"})(["border-radius:3px;color:#fff;font-size:0.8em;padding:2px 5px;flex-shrink:0;"]),He=Object(d.b)("span").withConfig({displayName:"ResultItem__ChangedBy",componentId:"sc-4q30tv-8"})(["color:var(--dark-grey);font-size:0.8em;"]),Pe=function(e){var t=e.author,n=e.date;return i.a.createElement(He,null,"Updated by ",t," ",i.a.createElement(Ie.a,{date:new Date(n)}))},Ae=function(e){var t=e.title,n=e.term;if(!n)return i.a.createElement(Te,null,t);var a=t.search(new RegExp(n,"i"));if(-1===a)return i.a.createElement(Te,null,t);var r=_e()(t).replace(new RegExp("(^|)("+n+")(|$)","gi"),"$1<b>$2</b>$3");return a>20&&t.length>50&&(r="..."+r.substring(a-(t.length-a>25?5:25))),i.a.createElement(Te,{dangerouslySetInnerHTML:{__html:r}})},qe=function(e){var t=e.item,n=e.term,a=t.title,r=t.image,o=t.kind,l=r?r.includes("://")?r:"/thumbs/square/".concat(r):null;return i.a.createElement(Ne,null,i.a.createElement(P,{src:l,alt:a,size:12}),i.a.createElement(Me,null,i.a.createElement(Re,null,i.a.createElement(Ae,{title:a,term:n}),i.a.createElement(Fe,{style:{background:Le.hex(String(o))}},o)),i.a.createElement(De,null,"description"in t&&t.description&&i.a.createElement(ze,null,i.a.createElement(Ae,{term:n,title:t.description}))),"author_name"in t&&"date"in t&&i.a.createElement(Pe,{date:t.date,author:t.author_name})))},Be=$((function(e){var t=e.item,n=e.modelPaths,a=e.term,r=t.type,o=t.model,l=t.id;if(!r)return null;var c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g+t.filter(Boolean).join("/")}("settings"===r?"/".concat(r,"/").concat(o):n[r]&&n[r][o],"edit",l);return i.a.createElement(Ve,{to:c},i.a.createElement(qe,{item:t,term:a}))}));function Ue(e,t){return e.sort((function(e,n){var a=e.title.search(new RegExp(t,"i")),i=n.title.search(new RegExp(t,"i"));return(-1===a?1/0:a)-(-1===i?1/0:i)}))}var We=Object(d.a)(["background:rgba(255,255,255,0.05);border:none;outline:none;margin-left:auto;width:300px;padding:0.5em;font-size:14px;border-radius:3px;color:#fff;::placeholder{color:#fff;}:focus{background:rgba(255,255,255,0.1);}"]),Ze=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={term:"",items:[]},e.handleInput=function(t){e.setState({term:t}),t&&t.length?e.fetchItems(t).then((function(t){var n=t.items;return e.setState({items:Ue(n,e.state.term)})})):e.setState({items:[]})},e.handleChange=function(t,n){e.setState({term:"",items:[]}),n.clearSelection()},e.fetchItems=function(e){return e?k.get("/content",{q:e}):Promise.resolve([])},e.renderItem=function(e,t){return i.a.createElement(Be,{item:e,term:t})},e.itemToString=function(e){return e?e.title:""},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.term,a=t.items;return i.a.createElement(ke,{inputElementCss:We,inputValue:n,onInputValueChange:this.handleInput,onChange:this.handleChange,items:a,itemToString:this.itemToString,renderItem:function(t){return e.renderItem(t,e.state.term)},style:{display:"flex",width:400,zIndex:3},placeholder:"Search \u2026"})}}]),n}(a.Component);function Ye(){var e=Object(S.a)(["\n  padding: 0 20px;\n  display: flex;\n  height: 100%;\n  white-space: nowrap;\n  align-items: center;\n"]);return Ye=function(){return e},e}var Ge=Object(d.b)("div").withConfig({displayName:"Header__Bar",componentId:"k28kc1-0"})(["display:flex;background-color:#28292e;color:#fff;height:",";justify-content:space-between;"],"55px"),$e=Object(d.a)(Ye()),Xe=Object(d.b)(p.c).withConfig({displayName:"Header__StyledNavLink",componentId:"k28kc1-1"})([""," color:inherit;text-decoration:none;opacity:0.7;transition:opacity 0.2s;:hover{opacity:1;}&.active{font-weight:bold;opacity:1;}"],$e),Ke=d.b.div.withConfig({displayName:"Header__Item",componentId:"k28kc1-2"})(["",""],$e),Je=Object(d.b)("div").withConfig({displayName:"Header__Items",componentId:"k28kc1-3"})(["display:flex;align-items:center;"]),Qe=function(e){return i.a.createElement(Xe,e)},et=L(function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.navigation;if(!t)return null;var a=t.permissions.settings;return i.a.createElement(Ge,null,i.a.createElement(Je,null,i.a.createElement(Qe,Object.assign({},U("main-navigation-item"),{to:"".concat(g,"/dashboard")}),"Dashboard"),n.map((function(e){var t=e.path,n=e.name;return i.a.createElement(Qe,Object.assign({},U("main-navigation-item"),{key:t,to:"".concat(g).concat(t)}),n)})),i.a.createElement(Qe,Object.assign({},U("main-navigation-item"),{to:"".concat(g,"/media")}),"Media"),a&&i.a.createElement(Qe,Object.assign({},U("main-navigation-item"),{to:"".concat(g,"/settings")}),"Settings")),i.a.createElement(Je,null,i.a.createElement(Ke,null,i.a.createElement(Ze,null)),i.a.createElement(Ke,null,i.a.createElement(X,null))))}}]),n}(a.Component)),tt=Object(d.b)("div").withConfig({displayName:"SplitPane__Root",componentId:"sc-10vxblj-0"})(["display:flex;height:100%;width:100%;flex:1;"]),nt=Object(d.b)("div").withConfig({displayName:"SplitPane__Pane",componentId:"sc-10vxblj-1"})({overflow:"auto",minWidth:100},(function(e){return{flex:e.flex?1:0}}),(function(e){return e.active&&{userSelect:"none",pointerEvents:"none"}})),at=Object(d.b)("div").withConfig({displayName:"SplitPane__Splitter",componentId:"sc-10vxblj-2"})(["background:#f0f0f0;opacity:0.2;box-sizing:border-box;background-clip:padding-box;width:11px;margin:0 -5px;cursor:col-resize;transition:all 0.25s;z-index:3;border-left:5px solid rgba(255,255,255,0);border-right:5px solid rgba(255,255,255,0);:hover{border-left:5px solid rgba(0,0,0,0.5);border-right:5px solid rgba(0,0,0,0.5);}"]),it=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={width:e.props.width||200,primaryLeft:"right"!==e.props.primary},e.splitterProps={onMouseDown:function(t){e.start(t.clientX)},onTouchStart:function(t){e.start(t.touches[0].clientX)}},e.rootProps={onMouseMove:function(t){e.move(t.clientX)},onTouchMove:function(t){e.move(t.touches[0].clientX)},onMouseUp:function(t){e.stop()}},e.start=function(t){e.setState({active:!0,startPos:t,startWidth:e.state.width})},e.move=function(t){var n=e.state,a=n.active,i=n.startPos,r=void 0===i?0:i,o=n.startWidth,l=void 0===o?0:o,c=n.primaryLeft;if(a){var s=t-r;c||(s*=-1);var u=l+s;e.setState({width:u})}},e.stop=function(){e.setState({active:!1})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=a.Children.toArray(this.props.children),n=this.state,r=n.width,o=n.active,l=n.primaryLeft;return i.a.createElement(tt,Object.assign({},this.rootProps,{style:l?void 0:{flexDirection:"row-reverse"}}),t.reduce((function(n,a,l){return n.length&&n.push(i.a.createElement(at,Object.assign({key:"".concat(l,"-split")},e.splitterProps))),n.push(i.a.createElement(nt,Object.assign({key:l,active:o,style:l<t.length-1?{flexBasis:r}:null,flex:l>=t.length-1},{key:l,active:o,style:{flexBasis:r}}),a)),n}),[]))}}]),n}(a.Component),rt=Object(d.b)("div").withConfig({displayName:"page__Background",componentId:"oqdp6w-0"})(["height:100%;background:#fff;position:relative;display:flex;flex-direction:column;"]),ot=Object(d.b)("div").withConfig({displayName:"page__Page",componentId:"oqdp6w-2"})(["box-sizing:border-box;min-height:100%;padding:36px;padding-top:55px;background-color:#f5f5f5;display:flex;flex-direction:column;position:relative;"]),lt=Object(d.b)("div").withConfig({displayName:"page__Center",componentId:"oqdp6w-3"})(["margin:auto;text-align:center;max-width:450px;"]),ct=Object(d.b)("div").withConfig({displayName:"page__Title",componentId:"oqdp6w-4"})(["font-weight:500;font-size:30px;font-size:1.875rem;letter-spacing:-0.05em;margin-right:15px;margin-bottom:24px;line-height:1.1;"]),st=Object(d.b)("div").withConfig({displayName:"page__Cols",componentId:"oqdp6w-5"})(["display:flex;"]),ut=Object(d.b)("div").withConfig({displayName:"page__Content",componentId:"oqdp6w-6"})(["flex-grow:1;flex-shrink:0;flex-basis:250px;border-radius:3px;padding:24px;"]),dt=Object(d.b)("div").withConfig({displayName:"page__Outset",componentId:"oqdp6w-7"})(["margin-left:-24px;"]);function pt(){return i.a.createElement(ot,null,i.a.createElement(lt,null,i.a.createElement("h1",null,"Hello!"),i.a.createElement("p",null,"Please, select the content you would like to edit in the left sidebar.")))}var mt=n(13);function ft(e){var t=e.path,n=Object(O.a)(e,["path"]);return i.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n),i.a.createElement("path",{d:t,fill:"currentColor"}))}function ht(){var e=Object(S.a)(["\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  padding: 0.7em 1em;\n  outline: none;\n  border: none;\n  border-radius: 3px;\n  background: ",";\n  color: ",";\n  text-transform: uppercase;\n  white-space: nowrap;\n  text-decoration: none;\n  font-weight: 500;\n  font-size: 0.8em;\n  line-height: 1;\n  transition: all 0.3s cubic - bezier(0.55, 0, 0.1, 1);\n  min-height: var(--input-min-height);\n  :hover {\n    background-color: ",";\n  }\n  & > span:not(:empty) {\n    margin-left: 0.4em;\n  }\n"]);return ht=function(){return e},e}var vt=function(e){var t=e.light;return Object(d.a)(ht(),t?"transparent":"var(--primary-color)",t?"var(--accent-color)":"#fff",t?"rgba(0, 0, 0, 0.05)":"var(--accent-color)")},bt=Object(d.b)("button").withConfig({displayName:"Button__StyledButton",componentId:"xps9if-0"})(["",""],(function(e){return vt(e)})),gt=Object(d.b)(bt).withConfig({displayName:"Button___StyledStyledButton",componentId:"xps9if-1"})(["",""],(function(e){return e._css3})),yt=Object(d.b)("a").withConfig({displayName:"Button__StyledLink",componentId:"xps9if-2"})([""," padding-top:0;padding-bottom:0;"],(function(e){return vt(e)})),xt=Object(d.b)(yt).withConfig({displayName:"Button___StyledStyledLink",componentId:"xps9if-3"})(["",""],(function(e){return e._css2}));function Ot(e){var t=e.icon,n=e.children,a=e.asLink,r=e.css,o=Object(O.a)(e,["icon","children","asLink","css"]),l=i.a.createElement(i.a.Fragment,null,t&&i.a.createElement(ft,{path:t}),n&&i.a.createElement("span",null,n));return a?i.a.createElement(xt,Object.assign({},o,{_css2:r}),l):i.a.createElement(gt,Object.assign({type:"button"},o,{_css3:r}),l)}var jt={OpenInTab:"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V12H19V19Z",Link:"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z",Sort:"M10,13V11H18V13H10M10,19V17H14V19H10M10,7V5H22V7H10M6,17H8.5L5,20.5L1.5,17H4V7H1.5L5,3.5L8.5,7H6V17Z",ArrowRight:"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z",ArrowLeft:"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z",Filter:"M15,19.88C15.04,20.18 14.94,20.5 14.71,20.71C14.32,21.1 13.69,21.1 13.3,20.71L9.29,16.7C9.06,16.47 8.96,16.16 9,15.87V10.75L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L15,10.75V19.88M7.04,5L11,10.06V15.58L13,17.58V10.05L16.96,5H7.04Z",FilterRemove:"M14.73,20.83L17.58,18L14.73,15.17L16.15,13.76L19,16.57L21.8,13.76L23.22,15.17L20.41,18L23.22,20.83L21.8,22.24L19,19.4L16.15,22.24L14.73,20.83M13,19.88C13.04,20.18 12.94,20.5 12.71,20.71C12.32,21.1 11.69,21.1 11.3,20.71L7.29,16.7C7.06,16.47 6.96,16.16 7,15.87V10.75L2.21,4.62C1.87,4.19 1.95,3.56 2.38,3.22C2.57,3.08 2.78,3 3,3V3H17V3C17.22,3 17.43,3.08 17.62,3.22C18.05,3.56 18.13,4.19 17.79,4.62L13,10.75V19.88M5.04,5L9,10.06V15.58L11,17.58V10.05L14.96,5H5.04Z",Calendar:"M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3H18V1",CalendarClock:"M15,13H16.5V15.82L18.94,17.23L18.19,18.53L15,16.69V13M19,8H5V19H9.67C9.24,18.09 9,17.07 9,16C9,12.13 12.13,9 16,9C17.07,9 18.09,9.24 19,9.67V8M5,21C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H6V1H8V3H16V1H18V3H19C20.1,3 21,3.9 21,5V11.1C22.24,12.36 23,14.09 23,16C23,19.87 19.87,23 16,23C14.09,23 12.36,22.24 11.1,21H5M16,11.15C13.32,11.15 11.15,13.32 11.15,16C11.15,18.68 13.32,20.85 16,20.85C18.68,20.85 20.85,18.68 20.85,16C20.85,13.32 18.68,11.15 16,11.15Z",ChevronRight:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",Clear:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",ClearCircle:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z",Document:"M6,2A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6M6,4H13V9H18V20H6V4M8,12V14H16V12H8M8,16V18H13V16H8Z",Down:"M7 10l5 5 5-5z",Edit:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",Plus:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",BigPlus:"M14 10h7v4h-7v7h-4v-7H3v-4h7V3h4z",Trash:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z",More:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z",DragHandle:"M20 9H4v2h16V9zM4 15h16v-2H4v2z",Details:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",Fold:"M7.41 18.59L8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z",Unfold:"M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z",Save:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z",Publish:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z",Duplicate:"M11,17H4C2.9,17 2,16.1 2,15V3C2,1.9 2.9,1 4,1H16V3H4V15H11V13L15,16L11,19V17M19,21V7H8V13H6V7C6,5.9 6.9,5 8,5H19C20.1,5 21,5.9 21,7V21C21,22.1 20.1,23 19,23H8C6.9,23 6,22.1 6,21V19H8V21H19Z",History:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z",Focus:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-7 7H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4z",Search:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",Descending:"M10,13V11H18V13H10M10,19V17H14V19H10M10,7V5H22V7H10M6,17H8.5L5,20.5L1.5,17H4V4H6V17Z",Settings:"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z",Reload:"M19 12h3.32l-4.95 4.95L12.42 12h4.55c.03-1.54-.55-3.07-1.73-4.25-2.34-2.34-6.14-2.34-8.48 0-2.34 2.34-2.34 6.15 0 8.49 1.84 1.84 4.6 2.23 6.82 1.17l1.47 1.47C12 20.69 8 20.29 5.34 17.65c-3.12-3.12-3.11-8.18.01-11.3 3.15-3.13 8.18-3.14 11.31-.01C18.22 7.9 19 9.95 19 12z",Eye:"M12,9C13.66,9 15,10.34 15,12C15,13.66 13.66,15 12,15C10.34,15 9,13.66 9,12C9,10.34 10.34,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z",CrossedEye:"M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9C13.66,9 15,10.34 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z",SortAlphabetical:"M9.25,5L12.5,1.75L15.75,5H9.25M15.75,19L12.5,22.25L9.25,19H15.75M8.89,14.3H6L5.28,17H2.91L6,7H9L12.13,17H9.67L8.89,14.3M6.33,12.68H8.56L7.93,10.56L7.67,9.59L7.42,8.63H7.39L7.17,9.6L6.93,10.58L6.33,12.68M13.05,17V15.74L17.8,8.97V8.91H13.5V7H20.73V8.34L16.09,15V15.08H20.8V17H13.05Z"},wt={};Object.entries(jt).forEach((function(e){var t=Object(h.a)(e,2),n=t[0],a=t[1];wt[n]=function(e){return i.a.createElement(ft,Object.assign({},e,{path:a}))}}));var Ct,Et=wt;function kt(e,t,n){var a=e.permissions;if(!t.writable)return!1;switch(t.type){case"media":return!0;case"settings":return a.settings;case"content":var i=a.content,r=t.name in i?i[t.name]:i["*"];return!!r&&(r&n)===n}return!1}!function(e){e[e.forbidden=0]="forbidden",e[e.view=1]="view",e[e.edit=2]="edit",e[e.publish=4]="publish"}(Ct||(Ct={}));var St=Object(d.b)("div").withConfig({displayName:"Overlay__Backdrop",componentId:"raivh3-0"})(["position:fixed;display:flex;z-index:4;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,0.7);"]),_t=Object(d.b)("div").withConfig({displayName:"Overlay__Modal",componentId:"raivh3-1"})(["margin:auto;background:#fff;box-shadow:0 0 10px rgba(0,0,0,0.7);border-radius:4px;overflow:hidden;position:relative;display:flex;flex-direction:column;max-height:90vh;"]),It=Object(d.b)("div").withConfig({displayName:"Overlay__Close",componentId:"raivh3-2"})(["z-index:1;position:absolute;top:12px;right:12px;width:22px;height:22px;cursor:pointer;svg{width:100%;height:100%;}"]),Lt=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).close=function(t){var n=e.props.onClose;t.stopPropagation(),n&&n()},e}return Object(c.a)(n,[{key:"renderOverlay",value:function(){var e=this.props,t=e.style,n=e.children;return i.a.createElement(St,U("overlay"),i.a.createElement(_t,{onClick:function(e){return e.stopPropagation()},style:t},n,i.a.createElement(It,{onClick:this.close},i.a.createElement(Et.Clear,null))))}},{key:"render",value:function(){var e=this.renderOverlay(),t=document.getElementById("modal");return t?o.a.createPortal(e,t):e}}]),n}(a.Component),Nt=Object(d.b)("div").withConfig({displayName:"ModalDialog__Title",componentId:"s1mfz7-0"})(["color:#fff;background:var(--primary-color);border-radius:3px 3px 0 0;font-size:1.5em;padding:10px 20px;font-weight:300;z-index:1;box-shadow:0 1px 3px rgba(0,0,0,0.16);display:flex;align-items:center;"]),Vt=Object(d.b)("div").withConfig({displayName:"ModalDialog__Body",componentId:"s1mfz7-1"})(["padding:20px;color:#34363a;flex:1;overflow-y:auto;height:100%;max-height:100%;"]),Mt=Object(d.b)("div").withConfig({displayName:"ModalDialog__ActionBar",componentId:"s1mfz7-2"})(["z-index:1;box-shadow:0 1px 4px rgba(0,0,0,0.16);width:100%;background:#fff;display:flex;flex-direction:row;padding:0.5em 2em;box-sizing:border-box;& > *{margin-left:1em;}"]),Dt=Object(d.b)(ft).withConfig({displayName:"ModalDialog__StyledIcon",componentId:"s1mfz7-3"})(["margin-right:0.5em;"]);function Rt(e){var t=e.title,n=e.children,r=e.onClose,o=e.actionButtons,l=e.style,c=e.bodyStyle,s=e.icon;return i.a.createElement(Lt,{onClose:r,style:Object(x.a)({color:"#fff",maxWidth:"90vw"},l)},i.a.createElement(Nt,null,s&&i.a.createElement(Dt,{path:s}),t),i.a.createElement(Vt,{style:c||void 0},n),o&&i.a.createElement(Mt,null,i.a.createElement("div",{style:{flex:1}}),o.map((function(e,t){return i.a.createElement(a.Fragment,{key:t},e)}))))}var zt={publish:{title:"Unpublished references",description:"The content you're trying to publish contains references to other unpublished content. Please publish following content: "},schedule:{title:"Content in use",description:"The content you're trying to schedule is required by other content. Please remove all references to this content from following contents in order to proceed the scheduling: "},unpublish:{title:"Content in use",description:"The content you're trying to unpublish is referenced to by other content. Please remove all references to this content in following content:"},delete:{title:"Content in use",description:"The content you're trying to delete is still in use. Please remove or replace references in following content first:"},media:{title:"File in user",description:"The file you're trying to delete is still in use. Please remove or replace the file in following locations:"}},Tt=Object(d.b)("div").withConfig({displayName:"ConflictDialog__List",componentId:"pjs1gi-0"})(["max-height:50vw;overflow:scroll;margin-top:24px;"]),Ft=Object(d.b)("div").withConfig({displayName:"ConflictDialog__Item",componentId:"pjs1gi-1"})(["display:flex;align-items:center;width:100%;box-sizing:border-box;padding:10px;cursor:pointer;border-radius:3px;:hover{background-color:var(--light-color);}"]),Ht=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.items,a=e.title,r=e.description,o=e.type;return i.a.createElement(Rt,{title:a||zt[o]&&zt[o].title,onClose:t},i.a.createElement("div",null,r||zt[o]&&zt[o].description),i.a.createElement(Tt,null,n.map((function(e){return i.a.createElement(Ft,{key:e.id,onClick:t},i.a.createElement(Be,{item:e}))}))))}}]),n}(a.Component);function Pt(){var e=Object(S.a)(["\n                  ",";\n                  ",";\n                "]);return Pt=function(){return e},e}function At(){var e=Object(S.a)(["\n                  ",";\n                  ","\n                "]);return At=function(){return e},e}function qt(){var e=Object(S.a)(["\n          ",";\n          ",";\n        "]);return qt=function(){return e},e}function Bt(){var e=Object(S.a)(["\n  background: none;\n  padding-left: 0;\n  & > svg {\n    color: var(--primary-color);\n  }\n  :hover {\n    background: none;\n    & > svg {\n      color: var(--accent-color);\n    }\n  }\n"]);return Bt=function(){return e},e}function Ut(){var e=Object(S.a)(["\n  background: #4a4a4a;\n  :hover {\n    background: #686868;\n  }\n  ",";\n"]);return Ut=function(){return e},e}function Wt(){var e=Object(S.a)(["\n  background: #f9b750;\n  :hover {\n    background: #f9c87b;\n  }\n  ",";\n"]);return Wt=function(){return e},e}function Zt(){var e=Object(S.a)(["\n  background: #47d08c;\n  & > svg {\n    transform: rotate(180deg);\n  }\n  :hover {\n    background: #52eb9f;\n  }\n  ",";\n"]);return Zt=function(){return e},e}function Yt(){var e=Object(S.a)(["\n  cursor: auto;\n  background: var(--disabled-color);\n  :hover {\n    background: var(--disabled-color);\n  }\n"]);return Yt=function(){return e},e}function Gt(){var e=Object(S.a)(["\n  cursor: auto;\n  & > svg {\n    color: var(--disabled-color);\n  }\n  :hover {\n    & > svg {\n      color: var(--disabled-color);\n    }\n  }\n"]);return Gt=function(){return e},e}function $t(){var e=Object(S.a)(["\n  margin-left: 1em;\n"]);return $t=function(){return e},e}var Xt=Ct.edit,Kt=Ct.publish,Jt=Object(d.a)($t()),Qt=Object(d.a)(Gt()),en=Object(d.a)(Yt()),tn=Object(d.a)(Zt(),Jt),nn=Object(d.a)(Wt(),Jt),an=Object(d.a)(Ut(),Jt),rn=Object(d.a)(Bt()),on=Object(d.b)("div").withConfig({displayName:"ActionBar__Root",componentId:"fra8hf-0"})(["box-shadow:0 1px 3px rgba(0,0,0,0.12);box-sizing:border-box;position:sticky;top:0;width:100%;background:#fff;display:flex;justify-content:space-between;align-items:center;z-index:2;padding:0.65em 2em 0.65em 1em;"]),ln=Object(d.b)(Ot).withConfig({displayName:"ActionBar___StyledButton",componentId:"fra8hf-1"})(["",""],(function(e){return e._css2})),cn=Object(d.b)(Ot).withConfig({displayName:"ActionBar___StyledButton2",componentId:"fra8hf-2"})(["",""],(function(e){return e._css3})),sn=Object(d.b)(Ot).withConfig({displayName:"ActionBar___StyledButton3",componentId:"fra8hf-3"})(["",""],(function(e){return e._css4})),un=Object(d.b)(Ot).withConfig({displayName:"ActionBar___StyledButton4",componentId:"fra8hf-4"})(["",""],rn),dn=Object(d.b)(Ot).withConfig({displayName:"ActionBar___StyledButton5",componentId:"fra8hf-5"})(["",""],(function(e){return e._css5})),pn=Object(d.b)(Ot).withConfig({displayName:"ActionBar___StyledButton6",componentId:"fra8hf-6"})(["",""],nn),mn=Object(d.b)(Ot).withConfig({displayName:"ActionBar___StyledButton7",componentId:"fra8hf-7"})(["",""],tn),fn=Object(d.b)(Ot).withConfig({displayName:"ActionBar___StyledButton8",componentId:"fra8hf-8"})(["",""],(function(e){return e._css6})),hn=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={conflictingRefs:null,conflictType:"publish"},e.onPublish=function(){var t=e.props,n=t.model,a=t.onPublishChange;e.activeVersion&&k.publish(n,e.activeVersion.id,e.activeVersion.rev).then((function(){a&&a()})).catch((function(t){if(400===t.status){var n=t.body;n.conflictingRefs&&e.setState({conflictingRefs:n.conflictingRefs,conflictType:"publish"})}}))},e.renderErrors=function(){var t=e.state,n=t.conflictingRefs,a=t.conflictType;return n&&a?i.a.createElement(Ht,{onClose:function(){return e.setState({conflictingRefs:null})},items:n,type:a}):null},e.renderModelActions=function(){var t=e.props,n=t.isNew,r=t.onDuplicate,o=t.onDelete,l=t.onHistory,c=t.model,s=t.user,u=t.versions,p=kt(s,c,Xt),m="settings"===c.type,f="singleton"===c.collection,h=[],v=n?Object(d.a)(qt(),rn,Qt):rn;if(p&&(o&&!f&&h.push(i.a.createElement(ln,Object.assign({},U("delete"),{icon:jt.Trash,type:"button",onClick:n?void 0:o,_css2:v}))),!r||m||f||h.push(i.a.createElement(cn,{icon:jt.Duplicate,type:"button",onClick:n?void 0:r,_css3:v}))),!m){var b=!!u&&u.length>1;h.push(i.a.createElement(sn,{icon:jt.History,type:"button",onClick:l,disabled:!b,_css4:b?v:Object(d.a)(At(),rn,Qt)}))}return i.a.createElement("div",null,h.map((function(e,t){return i.a.createElement(a.Fragment,{key:t},e)})))},e.renderContentActions=function(){var t=e.props,n=t.isNew,r=t.isDirty,o=t.isSubmitting,l=t.hasSchedule,c=t.model,s=t.submitForm,u=t.user,p=t.onSchedule,m=t.onUnpublish,f=t.onPreview,h=kt(u,c,Xt),v=kt(u,c,Kt),b=e.activeVersion&&e.activeVersion.published,g="settings"===c.type,y="singleton"===c.collection,x=g||c.external||!v,O=h&&(r||n||x),j=v&&!O,w=j&&!y,C=c.urlPath&&!g&&f,E=[];if(w&&E.push(i.a.createElement(un,{icon:l?jt.CalendarClock:jt.Calendar,type:"button",onClick:p,disabled:!1})),O){var k=!r||o;E.push(i.a.createElement(dn,{icon:jt.Save,type:"button",onClick:s,disabled:k,_css5:k?en:void 0},"Save"))}return j&&(b?y||E.push(i.a.createElement(mn,{icon:jt.Publish,type:"button",onClick:m,disabled:!1},"Unpublish")):E.push(i.a.createElement(pn,{icon:jt.Publish,type:"button",onClick:e.onPublish,disabled:!1},"Publish"))),C&&E.push(i.a.createElement(fn,{disabled:r||n,icon:jt.Details,onClick:f,_css6:r||n?Object(d.a)(Pt(),an,Qt):an})),i.a.createElement("div",null,E.map((function(e,t){return i.a.createElement(a.Fragment,{key:t},e)})))},e}return Object(c.a)(n,[{key:"render",value:function(){return i.a.createElement(on,null,this.renderErrors(),this.renderModelActions(),i.a.createElement("div",{style:{flex:1}}),this.renderContentActions())}},{key:"activeVersion",get:function(){var e=this.props,t=e.versions,n=e.activeVersion;return t&&n?t.find((function(e){return e.rev===n})):t&&a.version.length?t[0]:void 0}}]),n}(a.Component),vn=Object(m.h)(L(hn)),bn=function(e,t){if(t.required&&!e)return"This field is required"},gn=Object(d.b)("div").withConfig({displayName:"TextOutput__Container",componentId:"sc-1em8632-0"})(["",""],se),yn=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=void 0===t?"":t,a=e["data-name"];return i.a.createElement(gn,{"data-name":a},n)}}],[{key:"getSummaryText",value:function(e){return i.a.createElement(n,e)}}]),n}(a.Component),xn=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleChange=function(t){var n=e.props,a=n.field;n.form.setFieldValue(a.name,q(t.target.value))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.form,a=e.id,r=e.alwaysEditable;if(void 0===n.initialValues[t.name]||null===n.initialValues[t.name]||""===n.initialValues[t.name]||void 0===a||r){var o=t.value,l=void 0===o?"":o,c=Object(O.a)(t,["value"]);return i.a.createElement(de,Object.assign({value:l||""},c,{onChange:this.handleChange}))}return i.a.createElement(yn,{"data-name":t.name,value:t.value})}}],[{key:"getDefaultValue",value:function(e){return""}},{key:"validate",value:function(e,t){var n=bn(e,t);if(n)return n}}]),n}(a.Component),On=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.maxLength,a=e.readOnly,r=e.placeholder,o=e.minLength,l=t.value,c=Object(O.a)(t,["value"]);return i.a.createElement(de,Object.assign({readOnly:a,value:l||"",minLength:o,maxLength:n,placeholder:r},c))}}],[{key:"getDefaultValue",value:function(e){return""}},{key:"getHint",value:function(e){var t=e.maxLength,n=e.minLength;if(t||n)return" (".concat(n?"min. ".concat(n):"").concat(n&&t?"/":"").concat(t?"max. ".concat(t):""," Zeichen)")}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=bn(e,t);if(n)return n;if(t.minLength&&e.length<t.minLength)return"Text is too short";if(t.maxLength&&e.length>t.maxLength)return"Text is too long";if(t.validationRegex){var a=e.match(t.validationRegex);if(!a)return t.regexError?t.regexError:"not valid"}}}]),n}(a.Component),jn=n(276),wn=Object(d.b)(jn.a).withConfig({displayName:"TextAreaInput__StyledTextarea",componentId:"oufc8f-0"})(["",""],ce),Cn=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.maxLength,a=e.minLength,r=e.minRows,o=void 0===r?4:r,l=e.maxRows,c=e.readOnly,s=t.value,u=Object(O.a)(t,["value"]);return i.a.createElement(wn,Object.assign({readOnly:c,minLength:a,maxLength:n,maxRows:l,minRows:o,value:s||""},u))}}],[{key:"getDefaultValue",value:function(e){return""}},{key:"getHint",value:function(e){var t=e.maxLength,n=e.minLength;if(t||n)return" (".concat(n?"min. ".concat(n):"").concat(n&&t?"/":"").concat(t?"max. ".concat(t):""," Zeichen)")}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=bn(e,t);return n||(t.minLength&&e.length<t.minLength?"Text is too short":t.maxLength&&e.length>t.maxLength?"Text is too long":void 0)}}]),n}(a.Component),En=(n(381),n(296)),kn=Object(d.b)(En.a).withConfig({displayName:"NumberInput__StyledNumericInput",componentId:"sc-119960b-0"})(["border-radius:0;border:1px solid #f0f0f0;font-size:inherit;outline:none;height:100%;position:relative;:focus,:active{border-color:var(--accent-color);box-shadow:0 0 0 3px var(--semi-transparent-accent-color);}& .rc-input-number-input-wrap{box-sizing:border-box;transition:box-shadow 0.1s ease,width 0.1s ease;color:var(--dark-color);}& .rc-input-number-handler-wrap{position:absolute;right:0;top:0;}& .rc-input-number-input{padding:10px;font-size:inherit;text-align:left;color:var(--dark-color);line-height:normal;height:unset;}& .rc-input-number-handler{height:50%;line-height:16px;background-color:var(--disabled-color);}& .rc-input-number-handler-up-inner::after,.rc-input-number-handler-down-inner::after{color:var(--dark-color);}"]),Sn=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleChange=function(t){var n=e.props,a=n.field;n.form.setFieldValue(a.name,t)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.min,a=e.max,r=e.step,o=e.precision,l=e.placeholder,c=t.value;return i.a.createElement(kn,{onChange:this.handleChange,value:c,min:n,max:a,step:r||void 0,precision:o||0,placeholder:l||void 0})}}],[{key:"getDefaultValue",value:function(e){}},{key:"validate",value:function(e,t){var n=bn(e,t);if(n)return n}},{key:"getHint",value:function(e){var t=e.min,n=e.max;if(t||n)return"( ".concat(t?"min: ".concat(t," "):"","\n      ").concat(n?"max: ".concat(n):"",")")}}]),n}(a.Component),_n=n(77),In=n(277),Ln=n.n(In);n(411);function Nn(){var e=Object(S.a)(["\n  ","\n  .ql-toolbar {\n    border-radius: 3px 3px 0 0;\n    border-bottom-color: rgba(0, 0, 0, 0.16) !important;\n  }\n  .ql-container {\n    border-radius: 0 0 3px 3px;\n    font-family: inherit;\n  }\n  .ql-toolbar,\n  .ql-container {\n    border-color: rgba(0, 0, 0, 0.16);\n  }\n  .ql-editor ol,\n  .ql-editor ul,\n  .ql-editor pre,\n  .ql-editor blockquote,\n  .ql-editor h1,\n  .ql-editor h2,\n  .ql-editor h3,\n  .ql-editor h4,\n  .ql-editor h5,\n  .ql-editor h6 {\n    margin-bottom: 1em;\n  }\n  .ql-editor sup {\n    vertical-align: super;\n  }\n  .ql-editor sub {\n    vertical-align: sub;\n  }\n  .ql-bubble .ql-tooltip {\n    z-index: 2;\n  }\n  :focus-within {\n    box-shadow: 0 0 0 3px var(--semi-transparent-accent-color);\n    .ql-toolbar,\n    .ql-container {\n      border-color: var(--accent-color);\n    }\n  }\n"]);return Nn=function(){return e},e}function Vn(){var e=Object(S.a)(["\n  & {\n    background: #fff;\n    & .ql-editor {\n      min-height: 80px;\n    }\n  }\n"]);return Vn=function(){return e},e}function Mn(){var e=Object(S.a)(["\n  "," & .ql-editor {\n    /* padding: 0; */\n  }\n"]);return Mn=function(){return e},e}var Dn=Object(d.a)(Mn(),se),Rn=Object(d.a)(Vn()),zn=Object(d.b)(Ln()({loader:function(){return n.e(3).then(n.t.bind(null,622,7))},loading:function(){return null},render:function(e,t){var n=t.innerRef,a=Object(O.a)(t,["innerRef"]),r=e.default,o=e.Quill.import("ui/icons");return o.header[3]='\n<svg width="17px" height="12px" viewBox="0 0 17 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="h3" fill="currentColor">\n            <path d="M1.992,12.728 C1.81066576,12.9093342 1.58966797,13 1.329,13 C1.06833203,13 0.84733424,12.9093342 0.666,12.728 C0.48466576,12.5466658 0.394,12.325668 0.394,12.065 L0.394,1.525 C0.394,1.26433203 0.48466576,1.04333424 0.666,0.862 C0.84733424,0.68066576 1.06833203,0.59 1.329,0.59 C1.58966797,0.59 1.81066576,0.68066576 1.992,0.862 C2.17333424,1.04333424 2.264,1.26433203 2.264,1.525 L2.264,5.503 C2.264,5.60500051 2.31499949,5.656 2.417,5.656 L7.381,5.656 C7.48300051,5.656 7.534,5.60500051 7.534,5.503 L7.534,1.525 C7.534,1.26433203 7.62466576,1.04333424 7.806,0.862 C7.98733424,0.68066576 8.20833203,0.59 8.469,0.59 C8.72966797,0.59 8.95066576,0.68066576 9.132,0.862 C9.31333424,1.04333424 9.404,1.26433203 9.404,1.525 L9.404,12.065 C9.404,12.325668 9.31333424,12.5466658 9.132,12.728 C8.95066576,12.9093342 8.72966797,13 8.469,13 C8.20833203,13 7.98733424,12.9093342 7.806,12.728 C7.62466576,12.5466658 7.534,12.325668 7.534,12.065 L7.534,7.271 C7.534,7.16899949 7.48300051,7.118 7.381,7.118 L2.417,7.118 C2.31499949,7.118 2.264,7.16899949 2.264,7.271 L2.264,12.065 C2.264,12.325668 2.17333424,12.5466658 1.992,12.728 Z M11.32,7.07 C11.1666659,7.07 11.0333339,7.0133339 10.92,6.9 C10.8066661,6.7866661 10.75,6.6533341 10.75,6.5 L10.75,6.27 C10.75,6.1166659 10.8066661,5.9833339 10.92,5.87 C11.0333339,5.7566661 11.1666659,5.7 11.32,5.7 L15.05,5.7 C15.2033341,5.7 15.3366661,5.7566661 15.45,5.87 C15.5633339,5.9833339 15.62,6.1166659 15.62,6.27 L15.62,6.5 C15.62,6.8800019 15.4733348,7.1899988 15.18,7.43 L13.67,8.68 L13.67,8.69 C13.67,8.6966667 13.6733333,8.7 13.68,8.7 L13.8,8.7 C14.3800029,8.7 14.8449983,8.8799982 15.195,9.24 C15.5450018,9.6000018 15.72,10.0866636 15.72,10.7 C15.72,11.4733372 15.4833357,12.0666646 15.01,12.48 C14.5366643,12.8933354 13.8566711,13.1 12.97,13.1 C12.436664,13.1 11.8966694,13.0366673 11.35,12.91 C11.1899992,12.8699998 11.0583339,12.7816674 10.955,12.645 C10.8516662,12.5083327 10.8,12.3533342 10.8,12.18 L10.8,11.84 C10.8,11.706666 10.8549995,11.6016671 10.965,11.525 C11.0750006,11.448333 11.196666,11.4299998 11.33,11.47 C11.9033362,11.6566676 12.4033312,11.75 12.83,11.75 C13.2166686,11.75 13.5166656,11.6600009 13.73,11.48 C13.9433344,11.2999991 14.05,11.0500016 14.05,10.73 C14.05,10.4033317 13.9266679,10.173334 13.68,10.04 C13.4333321,9.906666 12.9733367,9.8366667 12.3,9.83 C12.1466659,9.83 12.0133339,9.77500055 11.9,9.665 C11.7866661,9.55499945 11.73,9.4233341 11.73,9.27 L11.73,9.25 C11.73,8.8766648 11.8733319,8.5666679 12.16,8.32 L13.58,7.09 L13.58,7.08 C13.58,7.0733333 13.5766667,7.07 13.57,7.07 L11.32,7.07 Z" id="Shape" fill-rule="nonzero"></path>\n        </g>\n    </g>\n</svg>',o.header[4]='\n<svg width="17px" height="12px" viewBox="0 0 17 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="h3" fill="currentColor">\n            <path d="M1.992,12.728 C1.81066576,12.9093342 1.58966797,13 1.329,13 C1.06833203,13 0.84733424,12.9093342 0.666,12.728 C0.48466576,12.5466658 0.394,12.325668 0.394,12.065 L0.394,1.525 C0.394,1.26433203 0.48466576,1.04333424 0.666,0.862 C0.84733424,0.68066576 1.06833203,0.59 1.329,0.59 C1.58966797,0.59 1.81066576,0.68066576 1.992,0.862 C2.17333424,1.04333424 2.264,1.26433203 2.264,1.525 L2.264,5.503 C2.264,5.60500051 2.31499949,5.656 2.417,5.656 L7.381,5.656 C7.48300051,5.656 7.534,5.60500051 7.534,5.503 L7.534,1.525 C7.534,1.26433203 7.62466576,1.04333424 7.806,0.862 C7.98733424,0.68066576 8.20833203,0.59 8.469,0.59 C8.72966797,0.59 8.95066576,0.68066576 9.132,0.862 C9.31333424,1.04333424 9.404,1.26433203 9.404,1.525 L9.404,12.065 C9.404,12.325668 9.31333424,12.5466658 9.132,12.728 C8.95066576,12.9093342 8.72966797,13 8.469,13 C8.20833203,13 7.98733424,12.9093342 7.806,12.728 C7.62466576,12.5466658 7.534,12.325668 7.534,12.065 L7.534,7.271 C7.534,7.16899949 7.48300051,7.118 7.381,7.118 L2.417,7.118 C2.31499949,7.118 2.264,7.16899949 2.264,7.271 L2.264,12.065 C2.264,12.325668 2.17333424,12.5466658 1.992,12.728 Z M11.62,10.25 L11.62,10.26 C11.62,10.2666667 11.6233333,10.27 11.63,10.27 L13.28,10.27 C13.3400003,10.27 13.37,10.2433336 13.37,10.19 L13.37,7.77 C13.37,7.7633333 13.3666667,7.76 13.36,7.76 C13.3466666,7.76 13.34,7.7633333 13.34,7.77 L11.62,10.25 Z M10.68,11.6 C10.5266659,11.6 10.3950005,11.5433339 10.285,11.43 C10.1749995,11.3166661 10.12,11.1833341 10.12,11.03 L10.12,10.84 C10.12,10.4666648 10.2299989,10.1233349 10.45,9.81 L13.04,6.16 C13.2600011,5.8533318 13.5566648,5.7 13.93,5.7 L14.43,5.7 C14.5833341,5.7 14.7149994,5.7566661 14.825,5.87 C14.9350006,5.9833339 14.99,6.1166659 14.99,6.27 L14.99,10.19 C14.99,10.2433336 15.0199997,10.27 15.08,10.27 L15.48,10.27 C15.6333341,10.27 15.7666661,10.3266661 15.88,10.44 C15.9933339,10.5533339 16.05,10.6866659 16.05,10.84 L16.05,11.03 C16.05,11.1833341 15.9933339,11.3166661 15.88,11.43 C15.7666661,11.5433339 15.6333341,11.6 15.48,11.6 L15.08,11.6 C15.0199997,11.6 14.99,11.6299997 14.99,11.69 L14.99,12.43 C14.99,12.5833341 14.9350006,12.7166661 14.825,12.83 C14.7149994,12.9433339 14.5833341,13 14.43,13 L13.93,13 C13.7766659,13 13.6450005,12.9433339 13.535,12.83 C13.4249995,12.7166661 13.37,12.5833341 13.37,12.43 L13.37,11.69 C13.37,11.6299997 13.3400003,11.6 13.28,11.6 L10.68,11.6 Z" id="Shape" fill-rule="nonzero"></path>\n        </g>\n    </g>\n</svg>',i.a.createElement(r,Object.assign({ref:n},a))}})).withConfig({displayName:"Quill__ReactQuill",componentId:"sc-1y15lsn-0"})(["",""],(function(e){return function(e){return Object(d.a)(Nn(),e.interactive?Rn:Dn)}({interactive:e.interactive})}));function Tn(e){var t=Object.assign({},e),n=null!==t.theme;return i.a.createElement(zn,Object.assign({interactive:n,style:{padding:0,margin:0}},t))}var Fn=n(278),Hn=n.n(Fn),Pn=n(279),An=n.n(Pn),qn={link:{type:"object",label:"Link",icon:"link-variant",fields:{link:{type:"content",models:[],label:"Link",allowAbsoluteRefs:!0,required:!0}}},media:{type:"object",label:"Media",icon:"image-outline",fields:{media:{type:"media",label:"Media",required:!0}}},mail:{type:"object",label:"E-Mail",icon:"email-outline",fields:{email:{type:"string",label:"E-Mail Adresse",required:!0,validationRegex:'^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$',regexError:"Has to be a valid e-mail address"},subject:{type:"string",label:"Betreff"}}},tel:{type:"object",label:"Telefon",icon:"phone",fields:{phoneNumber:{type:"string",label:"Telefonnummer",required:!0,validationRegex:"^\\+?[0-9]{3,}$",regexError:"Has to be a valid phone number"}}}},Bn={width:"80vw",background:"#f5f5f5",maxWidth:800},Un=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).onSubmit=function(t,n){n.setSubmitting,n.setFieldError;if(!t.link||0===t.link.length)return e.props.onSave(t.text,!1);if("link"===t.link[0].value._type&&t.link[0].value.link){var a=t.link[0].value.link.id;t.link[0].value.link.model&&(a="$intern:"+t.link[0].value.link.model+":"+t.link[0].value.link.id+"$"),e.props.onSave(t.text.trim(),a)}if("media"===t.link[0].value._type&&t.link[0].value.media){var i="$media:"+t.link[0].value.media+"$";e.props.onSave(t.text.trim(),i)}if("mail"===t.link[0].value._type&&t.link[0].value.email){var r=t.link[0].value.subject&&t.link[0].value.subject.length>0?t.link[0].value.subject:null,o="mailto:"+t.link[0].value.email+(r?"?subject=".concat(r):"");e.props.onSave(t.text.trim(),o)}if("tel"===t.link[0].value._type&&t.link[0].value.phoneNumber){var l="tel:"+t.link[0].value.phoneNumber;e.props.onSave(t.text.trim(),l)}},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.linkFormats,n=void 0===t?["link","mail","media","tel"]:t,a={link:{label:"Verlinkung",type:"list",minLength:0,maxLength:1,item:{type:"union",types:An()(qn,n)}},text:{label:"Text",type:"string"}},r=this.props.initial,o=r.link?{key:0,value:{_type:"link",link:{model:void 0,id:r.link}}}:{},l=/\$intern:([\w]*):([0-9]*)\$/gm.exec(r.link);l&&(o.value={_type:"link",link:{model:l[1],id:l[2]}});var c=/\$media:([\w/.]*)\$/gm.exec(r.link);c&&(o.value={_type:"media",media:c[1],link:void 0});var s=/mailto:((([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))/gm.exec(r.link);if(s){var u=r.link.split("?"),d={};u[1]&&(d=Object(w.parse)(u[1])),o.value={_type:"mail",email:s[1],subject:d.subject||"",link:void 0}}var p=/tel:(\+?[0-9]{3,})/gm.exec(r.link);p&&(o.value={_type:"tel",phoneNumber:p[1],link:void 0});var m={text:r.text,link:o.value?[o]:[]};return i.a.createElement(mt.c,{initialValues:m,validateOnChange:!1,validateOnBlur:!1,enableReinitialize:!0,onSubmit:this.onSubmit,render:function(t){var n=t.handleSubmit,r=[i.a.createElement(Ot,{icon:jt.Save,onClick:n},"save"),i.a.createElement(Ot,{icon:jt.Clear,onClick:e.props.onClose,light:!0},"cancel")];return i.a.createElement(Rt,{onClose:e.props.onClose,title:"set link",icon:jt.Link,actionButtons:r,style:Bn},i.a.createElement("form",{onSubmit:n},i.a.createElement(st,null,i.a.createElement(ut,{style:{padding:0}},i.a.createElement(ol,{key:"linkModal",fields:a,form:t})))))}})}}]),n}(a.Component),Wn=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).quillRef=null,e.state={open:!1,text:"",link:"",subStr:{index:0,length:0}},e.setQuillToolTips=function(){var t=Object(_n.a)(e);e.quillRef.theme.tooltip.show=function(){var e=t.quillRef.getText(this.linkRange.index,this.linkRange.length),n=t.quillRef.getFormat(this.linkRange.index,this.linkRange.length).link;n&&t.setState({open:!0,link:n,text:e,subStr:{index:this.linkRange.index,length:this.linkRange.length}})}},e.handleChange=function(t,n,a,i){var r=e.props,o=r.field,l=r.form,c=i.getContents().ops;"string"===typeof Object(mt.d)(l.initialValues,o.name)&&Hn()(l.initialValues,o.name,{ops:c}),l.setFieldValue(o.name,{ops:c})},e.linkHandler=function(t,n){e.setState({open:!1,selection:""});var a=e.state.subStr,i=a.index,r=a.length;e.quillRef.deleteText(i,r),t&&e.quillRef.insertText(i,t,"link",n&&n)},e.openLinkModal=function(t){if(e.quillRef){var n=e.quillRef.getSelection(),a=n.index,i=n.length,r=e.quillRef.getText();e.setState({open:!0,text:r.substr(a,i),link:"",subStr:{index:a,length:i}})}},e.closeLinkModal=function(){return e.setState({open:!1})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.field,a=t.formats,r=t.modules,o=t.linkFormats,l=this.state,c=l.open,s=l.text,u=l.link,d=n.value;return d=d||this.defaultValue,i.a.createElement(i.a.Fragment,null,c&&i.a.createElement(Un,{linkFormats:o,initial:{text:s,link:u},onSave:this.linkHandler,onClose:this.closeLinkModal}),i.a.createElement(Tn,{key:"string"===typeof d?"html":"delta",innerRef:function(t){t&&(e.quillRef=t.getEditor(),e.setQuillToolTips())},value:d,bounds:"#edit-form",onChange:this.handleChange,theme:"snow",formats:a,modules:Object(x.a)({},r||{},{toolbar:{container:r&&r.toolbar||[],handlers:{link:this.openLinkModal}}})}))}},{key:"defaultValue",get:function(){return n.getDefaultValue(this.props)}}],[{key:"getDefaultValue",value:function(e){return{ops:[]}}},{key:"validate",value:function(e,t){var n="";if("object"===typeof e){var a=e.ops;a&&0===a.length?n="":a&&a.length>0&&a[0]&&a[0].insert&&(n=a[0].insert.trim().replace(/\u21b5/g,""))}var i=bn(n,t);if(i)return i}}]),n}(a.Component),Zn=n(190),Yn=n.n(Zn);var Gn=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.compareTo,a=n?function(e,t){var n=new Yn.a(e),a=new Yn.a(t),i=n.diff(a);return i.ops.forEach((function(e){e.insert?e.attributes={background:"#cce8cc",color:"#003700"}:e.delete?(e.retain=e.delete,delete e.delete,e.attributes={background:"#e8cccc",color:"#370000",strike:!0}):e.retain&&e.attributes&&(e.attributes=Object(x.a)({},e.attributes,{background:"#e8e5cd"}))})),n.compose(i)}(n,t):t;return i.a.createElement(Tn,{value:a||"",readOnly:!0,theme:null})}}],[{key:"getSummaryText",value:function(e){return e.value&&e.value.ops&&e.value.ops.length?i.a.createElement(n,e):null}}]),n}(a.Component),$n=n(25),Xn={},Kn=(Symbol("inputs"),function(e){Object.assign(Xn,e)}),Jn=function(e){var t="input"in e&&e.input;return t&&Xn[t]||Xn[e.type]},Qn=Object(d.b)("button").withConfig({displayName:"ListButton__StyledButton",componentId:"sc-1pmexms-0"})(["cursor:",";display:inline-flex;align-items:center;padding-left:0;outline:none;border:none;border-radius:3px;color:",";text-transform:uppercase;white-space:nowrap;font-weight:500;font-size:0.8em;transition:all 0.3s cubic-bezier(0.55,0,0.1,1);font-weight:bold;letter-spacing:0.5px;background:none;:hover{color:",";& svg{color:",";}}"],(function(e){return!e.disabled&&"pointer"}),(function(e){return e.disabled?"var(--transparent-grey)":"var(--dark-grey)"}),(function(e){return e.disabled?"var(--transparent-grey)":"var(--dark-color)"}),(function(e){return!e.disabled&&"white"})),ea=Object(d.b)(Et.Plus).withConfig({displayName:"ListButton__PlusIcon",componentId:"sc-1pmexms-1"})(["color:white;width:100%;height:100%;color:var(--slightly-transparent-white);"]),ta=Object(d.b)("div").withConfig({displayName:"ListButton__IconWrapper",componentId:"sc-1pmexms-2"})(["box-sizing:border-box;background:",";padding:0.7em;border-radius:4px;margin-right:0.5em;width:var(--input-min-height);height:var(--input-min-height);"],(function(e){return e.disabled?"var(--transparent-grey)":"var(--primary-color)"}));function na(e){e.icon;var t=e.children,n=e.disabled,a=Object(O.a)(e,["icon","children","disabled"]);return i.a.createElement(Qn,Object.assign({type:"button"},a,{disabled:n}),i.a.createElement(ta,{disabled:n},i.a.createElement(ea,null)),t)}var aa=n(50),ia=n(58),ra=n.n(ia),oa=["index","model"],la=Object(d.b)("button").withConfig({displayName:"MoreButton__ItemAction",componentId:"sc-138fdxo-0"})(["background:none;outline:none;border:none;margin:0;padding:0;padding-top:7px;transition:all 0.3s cubic-bezier(0.55,0,0.1,1);& svg{color:var(--dark-grey);}:hover{cursor:pointer;}"]),ca=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.onToggle=function(){e.setState((function(e){return{open:!e.open}}))},e.renderMenu=function(t){var n=e.props.actions;return i.a.createElement(M,null,n.map((function(e){return i.a.createElement(D,{style:{cursor:"pointer"},active:e.active,key:e.label,onClick:function(){e.onClick&&e.onClick(),t()}},e.label)})))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.buttonStyle;return i.a.createElement(R,{renderMenu:this.renderMenu},i.a.createElement(la,{type:"button",onClick:this.onToggle,style:n},t||i.a.createElement(Et.More,null)))}}]),n}(a.Component),sa=n(41),ua=n.n(sa),da=Object(d.b)("div").withConfig({displayName:"ToggleSwitch__Track",componentId:"sc-1tb3500-0"})(["width:44px;height:22px;padding:2px;box-sizing:border-box;border-radius:11px;cursor:",";display:inline-block;background:",";"],(function(e){return e.disabled?"auto":"pointer"}),(function(e){return e.active?e.disabled?"rgba(0, 0, 0, 0.25)":"var(--primary-color)":"#ccc"})),pa=Object(d.b)("div").withConfig({displayName:"ToggleSwitch__Knob",componentId:"sc-1tb3500-1"})(["box-shadow:0 2px 5px rgba(0,0,0,0.26);width:18px;height:18px;border-radius:50%;background:#fff;transition:all 0.2s ease-in-out;transform:translateX(",");"],(function(e){return e.active?"22px":0})),ma=function(e){var t=e.on,n=e.onClick,a=e.disabled;return i.a.createElement(da,{active:t,onClick:n,disabled:a},i.a.createElement(pa,{active:t}))},fa=n(280),ha=n.n(fa),va=(n(504),n(180),n(99)),ba=n.n(va),ga=Object(d.b)("div").withConfig({displayName:"DatePicker__Wrapper",componentId:"ng9b8l-0"})([".day-picker-container{position:relative;& > div{box-shadow:0 1px 3px rgba(0,0,0,0.12),0 1px 2px rgba(0,0,0,0.24);position:absolute;z-index:2;background:white;}& input{",' width:auto;font-feature-settings:"tnum";font-variant-numeric:tabular-nums;}}'],ce),ya=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleChange=function(t,n,a){var i=e.props.onChange;if(i){var r=t?t.toISOString():a.getInput().value,o=new Date(r);o.setUTCHours(0,0,0,0),i(o.toISOString())}},e}return Object(c.a)(n,[{key:"format",value:function(e){return e?"".concat(ba.a.formatDate(new Date(e),"L","de")):""}},{key:"render",value:function(){var e=this.props,t=e.value,n=void 0===t?"":t,a=e.placeholder;return i.a.createElement(ga,null,i.a.createElement(ha.a,{formatDate:ba.a.formatDate,parseDate:ba.a.parseDate,placeholder:a||"DD.MM.YYYY",classNames:{container:"day-picker-container",overlay:"",overlayWrapper:""},onDayChange:this.handleChange,format:["L","l","LL","ll"],dayPickerProps:{locale:"de",localeUtils:ba.a},value:this.format(n)}))}}]),n}(a.Component),xa=Object(d.a)(['width:5em;font-feature-settings:"tnum";font-variant-numeric:tabular-nums;']),Oa=/^\d{0,2}?:?\d{0,2}$/,ja=Object(d.b)(de).withConfig({displayName:"TimeInput___StyledInput",componentId:"sc-1nvvmj4-0"})(["",""],xa),wa=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={value:e.props.value||"00:00"},e.lastVal="",e}return Object(c.a)(n,[{key:"isValid",value:function(e){if(!Oa.test(e))return!1;var t,n,a=e.split(":"),i=Object(h.a)(a,2),r=i[0],o=i[1],l=Number(r),c=Number(o);return n=l,!!(Number.isInteger(n)&&n>=0&&n<24&&(t=c,Number.isInteger(t)&&t>=0&&t<60||Number.isNaN(t)))&&!(c<10&&Number(o[0])>5)}},{key:"onChange",value:function(e){if(e!==this.state.value&&this.isValid(e)){if(2!==e.length||3===this.lastVal.length||e.includes(":")||(e+=":"),2===e.length&&3===this.lastVal.length&&(e=e.slice(0,1)),e.length>5)return!1;if(this.lastVal=e,this.setState({value:e}),5===e.length){var t=this.props.onChange;t&&t(e)}}}},{key:"render",value:function(){var e=this;return i.a.createElement(ja,{type:"tel",value:this.state.value,placeholder:this.props.placeholder,onChange:function(t){return e.onChange(t.target.value)}})}}]),n}(a.Component),Ca={width:750,height:500,background:"#f5f5f5",maxWidth:"90vw",maxHeight:"90hw"},Ea=Object(d.b)("div").withConfig({displayName:"Schedule__Row",componentId:"xo1wa-0"})(["display:flex;flex-wrap:wrap;margin-bottom:1em;"]),ka=Object(d.b)("div").withConfig({displayName:"Schedule__Half",componentId:"xo1wa-1"})(["flex:0 0 50%;"]),Sa=Object(d.b)("span").withConfig({displayName:"Schedule__Label",componentId:"xo1wa-2"})(["font-weight:bold;margin-left:1em;"]),_a=function(e){return(e?new Date(e):new Date).toISOString()},Ia=function(e){return e?ua()(e).format("HH:mm"):"00:00"},La=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).onSchedule=function(){var e=Object(_n.a)(a),t=e.visibleFrom,n=e.visibleUntil;a.props.onSchedule({visibleFrom:t,visibleUntil:n}).catch((function(e){var t=e.body;a.setState({conflictingRefs:t.conflictingRefs})}))},a.renderErrors=function(){var e=a.state.conflictingRefs;return e?i.a.createElement(Ht,{onClose:function(){return a.setState({conflictingRefs:null})},items:e,type:"schedule"}):null};var r=e.schedule,o=r.visibleFrom,c=r.visibleUntil;return a.state={visibleFrom:!!o,visibleFromDate:_a(o),visibleFromTime:Ia(o),visibleUntil:!!c,visibleUntilDate:_a(c),visibleUntilTime:Ia(c),conflictingRefs:null},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.onClose,n=this.state,a=n.visibleFrom,r=n.visibleFromDate,o=n.visibleFromTime,l=n.visibleUntil,c=n.visibleUntilDate,s=n.visibleUntilTime,u=[i.a.createElement(Ot,{icon:jt.History,onClick:this.onSchedule},"Schedule")];return i.a.createElement(Rt,{title:"Schedule",icon:jt.Calendar,onClose:t,style:Ca,actionButtons:u},this.renderErrors(),i.a.createElement(Ea,null,i.a.createElement(ka,null,i.a.createElement(Ea,null,i.a.createElement(ma,{on:a,onClick:function(){return e.setState({visibleFrom:!a})}}),i.a.createElement(Sa,null,"Visible From")),a&&i.a.createElement(Ea,null,i.a.createElement(ya,{value:r,onChange:function(t){return e.setState({visibleFromDate:t})}}),i.a.createElement(wa,{value:o,placeholder:"hh:mm",onChange:function(t){return e.setState({visibleFromTime:t})}}))),i.a.createElement(ka,null,i.a.createElement(Ea,null,i.a.createElement(ma,{on:l,onClick:function(){return e.setState({visibleUntil:!l})}}),i.a.createElement(Sa,null,"Visible Until")),l&&i.a.createElement(Ea,null,i.a.createElement(ya,{value:c,onChange:function(t){return e.setState({visibleUntilDate:t})}}),i.a.createElement(wa,{value:s,placeholder:"hh:mm",onChange:function(t){return e.setState({visibleUntilTime:t})}})))))}},{key:"visibleFrom",get:function(){var e=this.state,t=e.visibleFrom,n=e.visibleFromDate,a=e.visibleFromTime;if(!t)return null;var i=a.split(":").map(Number),r=Object(h.a)(i,2),o=r[0],l=r[1];return ua()(n).hours(o).minutes(l).toDate()}},{key:"visibleUntil",get:function(){var e=this.state,t=e.visibleUntil,n=e.visibleUntilDate,a=e.visibleUntilTime;if(!t)return null;var i=a.split(":").map(Number),r=Object(h.a)(i,2),o=r[0],l=r[1];return ua()(n).hours(o).minutes(l).toDate()}}]),n}(a.Component),Na=function e(t){return!!t&&("string"===typeof t||!!Object.values(t).map(e).filter(Boolean).length)};function Va(){var e=Object(S.a)(["\n  color: #fff;\n  background: rgba(250, 57, 135, 0.05);\n  border-color: var(--error-color);\n  & > div {\n    color: var(--dark-color);\n  }\n"]);return Va=function(){return e},e}var Ma=Object(d.b)(Et.DragHandle).withConfig({displayName:"SortableItem__DragHandleIcon",componentId:"dclexl-0"})(["user-select:none;opacity:0.8;cursor:move;position:absolute;z-index:0;top:9px;left:calc(-12px - 0.5 * var(--input-min-height));transition:all 0.2s cubic-bezier(0.55,0,0.1,1);& path{fill:#fff;}:hover{opacity:1;}"]),Da=Object(d.a)(Va());var Ra=Object(d.b)("div").withConfig({displayName:"SortableItem__Item",componentId:"dclexl-1"})(["user-select:",";background-color:var(--transparent-grey);display:flex;margin-bottom:10px;box-sizing:border-box;position:relative;border-left:var(--input-min-height) solid ",";padding:14px 32px 14px 21px;border-radius:4px;",";"],(function(e){return e.isSorting?"none":"auto"}),(function(e){return function(e){var t=e.visibleFrom,n=e.visibleUntil;if(!t&&!n)return"var(--primary-color)";var a=new Date,i=t&&new Date(t)>a,r=n&&new Date(n)<a;return i||r?"#4A4A4A":"#4ECF8E"}(e.schedule)}),(function(e){return e.hasError&&Da})),za=Object(d.b)("div").withConfig({displayName:"SortableItem__ItemField",componentId:"dclexl-2"})(["flex:1;position:relative;:hover > svg,:hover > .item-action{opacity:",";}"],(function(e){return e.isSorting?.5:1})),Ta=Object(d.b)("div").withConfig({displayName:"SortableItem__ItemActions",componentId:"dclexl-3"})(["user-select:none;opacity:0.5;position:absolute;display:flex;flex-direction:column;justify-content:center;top:0;right:0;transition:all 0.2s cubic-bezier(0.55,0,0.1,1);:hover{opacity:1;}"]),Fa=Object(aa.c)((function(){return i.a.createElement(Ma,null)})),Ha=Object(aa.b)((function(e){var t=e.sortIndex,n=e.sortable,a=e.ItemComponent,r=e.itemType,o=e.arrayHelpers,l=e.renderItemOptions,c=e.name,s=e.length,u=e.isSorting,d=e.schedule,p="".concat(c,".").concat(t,".").concat(Ba),m=Object(mt.d)(o.form.errors,p);return i.a.createElement(Ra,{schedule:d,isSorting:u,hasError:Na(m)},n&&i.a.createElement(Fa,null),i.a.createElement(za,{sortable:n,isSorting:u},i.a.createElement(mt.a,Object.assign({name:p,render:function(e){return i.a.createElement(a,Object.assign({},e,r))}},r,{validate:function(e){if("function"===typeof a.validate)return a.validate(e,r)}}))),i.a.createElement(Ta,{className:"item-action"},l(o,t,s,!!n)))})),Pa=Object(aa.a)((function(e){var t=e.items,n=Object(O.a)(e,["items"]),a=n.itemType.types;return i.a.createElement("div",null,t&&t.filter((function(e){return!a&&!(e.value||{})._type||e.value._type&&e.value._type in a})).map((function(e,a){return i.a.createElement(Ha,Object.assign({disabled:!n.sortable,key:e.key,index:a,length:t.length,schedule:e,sortIndex:t.findIndex((function(t){return t.key===e.key}))},n))})))})),Aa=Object(d.b)(Pa).withConfig({displayName:"SortableList",componentId:"sc-125n87n-0"})(["&.","{","}"],"dragging-helper-class",Ua);function qa(){var e=Object(S.a)(["\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);\n  z-index: 4;\n"]);return qa=function(){return e},e}var Ba="value",Ua=Object(d.a)(qa()),Wa=Object(d.b)("div").withConfig({displayName:"Input__Root",componentId:"sc-1fafl9n-0"})(["margin-bottom:20px;"]),Za=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isSorting:!1},e.renderItemOptions=function(t,n,a){var r=e.props,o=r.sortable,l=r.schedule,c=r.field.value,s=[{label:"Remove",onClick:function(){return t.remove(n)}}];return e.mustNotAddItems||s.push({label:"Add new item",onClick:function(){return e.createItem((function(e){return t.insert(n+1,e)}))}}),l&&s.unshift({label:"Schedule",onClick:function(){var t=e.props,a=t.form,i=t.field,r=i.value[n],o="".concat(i.name,"[").concat(n,"]");e.setState({schedule:r,onSchedule:function(t){a.setFieldValue(o,Object(x.a)({},r,{},t)),e.closeSchedule()}})}}),o&&c&&c.length>1&&s.push({label:"Move to top",onClick:function(){return t.move(n,0)}},{label:"Move to Bottom",onClick:function(){return t.move(n,a)}}),i.a.createElement(ca,{actions:s})},e.createItem=function(t){var n=e.props.item,a=Jn(n),i=1+(e.props.field.value||[]).reduce((function(e,t){return Math.max(e,t.key)}),0),r=Object(x.a)({},ra()(n,oa),{models:"model"in n?[n.model]:"models"in n?n.models:void 0});if(a.itemFactory){var o=a.itemFactory(r,(function(n){n&&t(Object($n.a)({key:i},Ba,n)),e.setState({Factory:null})}));e.setState({Factory:o})}else a.getDefaultValue?t(Object($n.a)({key:i},Ba,a.getDefaultValue(r))):t(Object($n.a)({key:i},Ba,null))},e.closeSchedule=function(){e.setState({onSchedule:null})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.field,a=t.item,r=t.sortable,o=t.addLabel,l=n.name,c=n.value,s=Jn(a),u=this.state,d=u.Factory,p=u.isSorting,m=u.schedule,f=u.onSchedule,h=Object(x.a)({},ra()(a,oa),{models:"model"in a?[a.model]:"models"in a?a.models:void 0});return i.a.createElement(mt.b,{validateOnChange:!1,name:l,render:function(t){return i.a.createElement(Wa,null,c&&i.a.createElement(Aa,{lockToContainerEdges:!0,lockAxis:"y",items:c,ItemComponent:s,sortable:r,itemType:h,renderItemOptions:e.renderItemOptions,arrayHelpers:t,name:l,useDragHandle:!0,helperClass:"dragging-helper-class",onSortStart:function(){return e.setState({isSorting:!0})},onSortEnd:function(n){var a=n.oldIndex,i=n.newIndex;t.move(a,i),e.setState({isSorting:!1})},isSorting:p}),i.a.createElement(na,{type:"button",disabled:e.mustNotAddItems,onClick:function(){return e.createItem((function(e){return t.push(e)}))}},i.a.createElement("span",null,o||"Add")),d&&i.a.createElement(d,null),f&&i.a.createElement(La,{schedule:m,onClose:e.closeSchedule,onSchedule:f}))}})}},{key:"mustNotAddItems",get:function(){var e=this.props,t=e.maxLength,n=e.field.value;return!!t&&(n&&n.length>=t)}}],[{key:"getDefaultValue",value:function(e){return[]}},{key:"validate",value:function(e,t){if(t.required&&(!e||!e.length))return"This field is required"}}]),n}(a.Component),Ya=Object(d.b)("div").withConfig({displayName:"SortableItem__Item",componentId:"jxhuo1-0"})(["box-sizing:border-box;user-select:",";color:rgba(0,0,0,0.87);border:none;cursor:",";min-height:var(--input-min-height);outline:none;padding:5px;display:inline-flex;transition:background-color 300ms cubic-bezier(0.4,0,0.2,1) 0ms,box-shadow 300ms cubic-bezier(0.4,0,0.2,1) 0ms;white-space:nowrap;align-items:center;border-radius:4px;vertical-align:middle;text-decoration:none;justify-content:center;background-color:var(--transparent-grey);margin:0 10px 10px 0;border-left:5px solid var(--primary-color);"],(function(e){return e.isSorting?"none":"auto"}),(function(e){return e.sortable?"move":"auto"})),Ga=Object(d.b)("button").withConfig({displayName:"SortableItem__StyledButton",componentId:"jxhuo1-1"})(["padding:0;border:none;background:none;cursor:pointer;:focus{outline:0;}"]),$a=Object(d.b)(Et.ClearCircle).withConfig({displayName:"SortableItem__ClearCircleIcon",componentId:"jxhuo1-2"})(["color:rgba(0,0,0,0.26);margin:0 4px;"]),Xa=Object(aa.b)((function(e){var t=e.sortIndex,n=e.sortable,a=e.ItemComponent,r=e.itemType,o=e.removeItem,l=e.name,c=e.isSorting;return i.a.createElement(Ya,{isSorting:c,sortable:n},i.a.createElement(mt.a,Object.assign({name:"".concat(l,".").concat(t,".").concat(Ba),render:function(e){return i.a.createElement(a,Object.assign({},e,r,{value:e.field.value,layout:"inList"}))}},r,{validate:function(e){if("function"===typeof a.validate)return a.validate(e,r)}})),i.a.createElement(Ga,{type:"button",onClick:function(){return o(t)}},i.a.createElement($a,null)))})),Ka=Object(aa.a)((function(e){var t=e.items,n=Object(O.a)(e,["items"]);return i.a.createElement("div",null,t&&t.filter((function(e){return!n.itemType.types&&!(e.value||{})._type||e.value._type&&n.itemType.types.hasOwnProperty(e.value._type)})).map((function(e,a){return i.a.createElement(Xa,Object.assign({disabled:!n.sortable,key:e.key,index:a,length:t.length,sortIndex:t.findIndex((function(t){return t.key===e.key}))},n))})))})),Ja={},Qa=(Symbol("outputs"),function(e){Object.assign(Ja,e)}),ei=function(e){var t="input"in e&&e.input;return t&&Ja[t]||Ja[e.type]},ti=Object(d.b)("div").withConfig({displayName:"Input__NewItemActions",componentId:"sc-14av2xi-0"})(["& > *:not(:last-child){margin-right:1em !important;}margin-top:10px;"]),ni=Object(d.b)("span").withConfig({displayName:"Input__Cancel",componentId:"sc-14av2xi-1"})(["cursor:pointer;color:var(--dark-grey);"]),ai=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isSorting:!1,newItemValue:""},e.createItem=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=e.state.newItemValue;if(n&&(a=n),a){var i=e.props.field.value,r=0;i&&(i.forEach((function(e){e.key>r&&(r=e.key)})),r++),t(Object($n.a)({key:r},"value",a)),e.setState({newItemValue:""})}},e.createFactory=function(t){var n,a=e.props.item,r=Jn(a),o=Object(x.a)({},ra()(a,oa),{models:"model"in a?[a.model]:"models"in a?a.models:void 0});if(r.itemFactory)n=r.itemFactory(o,(function(n){n&&e.createItem((function(e){return t.push(e)}),n),e.setState({Factory:null})}));else{var l=function(t,n){return e.setState({newItemValue:n})},c=function(t){return e.setState({newItemValue:t.target.value})};n=function(){return i.a.createElement("div",null,i.a.createElement(r,Object.assign({},o,{form:{setFieldValue:l},field:{value:e.state.newItemValue,name:"new",onChange:c},layout:"inList",placeholder:"Search for another one...",value:e.state.newItemValue})),i.a.createElement(ti,null,i.a.createElement(Ot,{type:"submit",onClick:function(){return e.createItem((function(n){t.push(n),e.setState({Factory:null})}))}},i.a.createElement("span",null,"OK")),i.a.createElement(ni,{onClick:function(){return e.setState({Factory:null})}},"Abbrechen")))}}e.setState({Factory:n})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.field,r=t.item,o=t.sortable,l=t.maxLength,c=n.name,s=n.value,u=ei(r),d=this.state,p=d.Factory,m=d.isSorting,f=!!l&&(s&&s.length>=l),h=Object(x.a)({},ra()(r,oa),{models:"model"in r?[r.model]:"models"in r?r.models:void 0});return i.a.createElement(mt.b,{validateOnChange:!1,name:c,render:function(t){return i.a.createElement(a.Fragment,null,i.a.createElement(Ka,{lockToContainerEdges:!0,axis:"xy",items:s,ItemComponent:u,sortable:o,itemType:h,removeItem:function(e){return t.remove(e)},arrayHelpers:t,name:c,helperClass:"dragging-helper-class",onSortStart:function(){return e.setState({isSorting:!0})},onSortEnd:function(n){var a=n.oldIndex,i=n.newIndex;t.move(a,i),e.setState({isSorting:!1})},shouldCancelStart:function(e){return void 0!==e.target.tagName&&-1!==["path","svg","button"].indexOf(e.target.tagName.toLowerCase())},isSorting:m}),!f&&(p?i.a.createElement(p,null):i.a.createElement(na,{type:"button",onClick:function(){return e.createFactory(t)}},"Hinzuf\xfcgen")))}})}}],[{key:"getDefaultValue",value:function(e){return[]}},{key:"validate",value:function(e,t){if(t.required&&(!e||!e.length))return"This field is required"}}]),n}(a.Component),ii=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.layout;return"inline"===(void 0===e?"block":e)?i.a.createElement(ai,this.props):i.a.createElement(Za,this.props)}}],[{key:"validate",value:function(e,t){var n=bn(e?e.length:e,t);if(n)return n;var a=[],i=t.minLength,r=t.maxLength;return function(e,t){var n=t.minLength;return void 0!==n&&(t.required||!!(e||[]).length)&&e.length<n}(e,t)?"This list needs to contain at least ".concat(i," items").concat(t.required?"":" when used","."):function(e,t){var n=t.maxLength;return void 0!==n&&(t.required||!!(e||[]).length)&&e.length>n}(e,t)?"This list must not contain more then ".concat(r," items").concat(t.required?"":" when used","."):e&&e.length&&(e.forEach((function(e,n){var i=Jn(t.item),r=i&&i.validate(e.value,t.item);r&&(a[n]={value:r})})),a.length>0)?a:void 0}}]),n}(a.Component),ri=Object(d.b)("div").withConfig({displayName:"Output__ItemField",componentId:"sc-1exvv1d-0"})(["flex:1;position:relative;padding-right:0.8em;"]),oi=function(e){var t=e.value,n=e.item,a=ei(n);return i.a.createElement("div",null,t&&t.map((function(e,t){return i.a.createElement(Ya,{key:t,style:{borderColor:"rgba(0, 0, 0, 0.25)"}},i.a.createElement(ri,null,i.a.createElement(a,Object.assign({value:e.value},n))))})))},li=Object(d.b)("div").withConfig({displayName:"Output__ItemField",componentId:"sgurib-0"})(["background-color:var(--transparent-grey);display:flex;flex-direction:column;margin-bottom:10px;box-sizing:border-box;position:relative;border-left:var(--input-min-height) solid rgba(0,0,0,0.25);padding:14px 32px 14px 21px;border-radius:4px;width:100%;"]),ci=function(e){var t=e.value,n=e.item,a=ei(n);return i.a.createElement("div",null,t&&t.map((function(e,t){return i.a.createElement(li,{key:t},i.a.createElement(a,Object.assign({value:e.value},n,{layout:"inList"})))})))},si=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.layout;return"inline"===(void 0===e?"block":e)?i.a.createElement(oi,this.props):i.a.createElement(ci,this.props)}}],[{key:"getSummaryImage",value:function(e){return n.getSummary("getSummaryImage",e)}},{key:"getSummaryText",value:function(e){return n.getSummary("getSummaryText",e)}}]),n}(a.Component);si.getSummary=function(e,t){var n=t.value,a=t.item,i=ei(a)[e];return n&&i?n.reduce((function(e,t){return e||i(Object(x.a)({},a,{value:t.value}))}),null):null};var ui=n(42);function di(){var e=Object(S.a)(["\n  color: var(--dark-color);\n  font-weight: bold;\n"]);return di=function(){return e},e}var pi=Object(d.b)("div").withConfig({displayName:"Fields__FieldBlock",componentId:"sc-1wyn7rt-0"})(["box-sizing:border-box;padding:24px;"]),mi=Object(d.b)("div").withConfig({displayName:"Fields__FieldListBlock",componentId:"sc-1wyn7rt-1"})(["box-sizing:border-box;padding-top:12px;padding-bottom:12px;"]),fi=Object(d.a)(di()),hi=Object(d.b)("div").withConfig({displayName:"Fields__LabelBlock",componentId:"sc-1wyn7rt-2"})([""," margin-bottom:0.5em;"],fi),vi=Object(d.b)("span").withConfig({displayName:"Fields__InlineLabel",componentId:"sc-1wyn7rt-3"})([""," margin-left:0.2em;margin-right:1em;"],fi),bi=Object(d.b)("td").withConfig({displayName:"Fields__Cell",componentId:"sc-1wyn7rt-4"})(["padding-bottom:1em;"]),gi=Object(d.b)(bi).withConfig({displayName:"Fields__LabelCell",componentId:"sc-1wyn7rt-5"})([""," min-width:125px;"],fi),yi=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=function(e){return"string"===typeof e&&i.a.createElement(fe,{className:El},e)},t=this.props,n=t.fields,a=t.layout,r=void 0===a?"vertical":a;return"horizontal"===r?i.a.createElement("table",null,i.a.createElement("tbody",null,n.map((function(t){return i.a.createElement("tr",{key:t.key||t.label},i.a.createElement(gi,null,t.label),i.a.createElement(bi,null,t.element),e(t.error))})))):"inline"===r?i.a.createElement("div",null,n.map((function(t){return i.a.createElement("label",{key:t.key||t.label},t.element,i.a.createElement(vi,null,t.label),e(t.error))}))):"inList"===r?i.a.createElement("div",{style:{width:"100%"}},n.map((function(t){return i.a.createElement(mi,{key:t.key||t.label},i.a.createElement(hi,null,t.label),i.a.createElement("div",null,t.element),e(t.error))}))):i.a.createElement("div",null,n.map((function(t){return i.a.createElement(pi,{key:t.key||t.label},i.a.createElement(hi,null,t.label),i.a.createElement("div",null,t.element),e(t.error))})))}}]),n}(a.Component),xi=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.compareTo,a=e.fields,r=e.layout;return i.a.createElement(yi,{layout:r,fields:Object.keys(a).map((function(e){var r=a[e];if("hidden"in r)return null;var o=r.type,l=r.label,c=void 0===l?Object(ui.a)(e):l,s=Object(O.a)(r,["type","label"]);if("position"===o||"references"===o)return null;var u=ei(r);return{label:c,element:i.a.createElement(u,Object.assign({},s,{value:(t||{})[e],compareTo:n&&n[e]})),key:e}})).filter(Boolean)})}}],[{key:"getSummaryImage",value:function(e){return n.getSummary("getSummaryImage",e)}},{key:"getSummaryText",value:function(e){return n.getSummary("getSummaryText",e)}}]),n}(a.Component);xi.getSummary=function(e,t){var n=t.value,a=t.fields;return n?Object.keys(a).reduce((function(t,i){if(t)return t;var r=a[i],o=ei(r);return o[e]&&n[i]?o[e](Object(x.a)({},r,{value:n[i]})):null}),null):null};var Oi={width:"80vw",height:"90vh",background:"#f5f5f5",maxWidth:1200},ji=Object(d.b)("div").withConfig({displayName:"ObjectInput__Summary",componentId:"sc-1ajrhyz-0"})(["flex:1;display:flex;margin-right:1em;"]),wi=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={showModal:!1},e.toggleModal=function(){e.setState((function(t){var n=e.props,a=n.form,i=n.field,r=Object(x.a)({},t,{showModal:!t.showModal});if(a&&i){var o=Object(mt.d)(a.errors,i.name);return Object(x.a)({},r,{initalValues:JSON.parse(JSON.stringify(a.values)),initalErrors:o?JSON.parse(JSON.stringify(o)):o})}return r}))},e}return Object(c.a)(n,[{key:"renderSummary",value:function(){var e=this.props,t=e.field,n=e.fields;if(!t)return null;var a=t.value,r=xi.getSummaryImage({value:a,fields:n}),o=xi.getSummaryText({value:a,fields:n});return i.a.createElement(ji,{style:{flex:1}},r&&i.a.createElement("div",{style:{marginRight:"1em"}},r),o&&i.a.createElement("div",null,o))}},{key:"renderModal",value:function(){var e=this;if(!this.state.showModal)return null;var t=this.props,a=t.label,r=t.form,o=t.field,l=t.id,c=function(){o&&(r.setValues(e.state.initalValues),r.setFieldError(o.name,e.state.initalErrors)),e.toggleModal()},s=[i.a.createElement(Ot,{icon:jt.Save,onClick:function(){o&&(r.validateField(o.name)instanceof Promise?r.validateField(o.name).then((function(t){JSON.stringify(t)||e.toggleModal()})):(r.validateField(o.name),setTimeout((function(){!!Object(mt.d)(e.props.form.errors,o.name)||e.toggleModal()}),50)))}},"\xdcbernehmen"),i.a.createElement(Ot,{icon:jt.Clear,onClick:c,light:!0},"Abbrechen")];return i.a.createElement(Rt,{title:a||"Edit",onClose:c,actionButtons:s,style:Oi},i.a.createElement(n,Object.assign({},this.props,{modalView:!1,layout:"vertical",id:l})))}},{key:"render",value:function(){var e=this.props,t=e.form,n=e.field,a=e.fields,r=e.layout,o=e.modalView,l=e.model,c=e.id;if(o)return i.a.createElement("div",null,i.a.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},this.renderSummary(),i.a.createElement("div",null,i.a.createElement(Ot,{onClick:this.toggleModal},"Edit"))),this.renderModal());var s=Object.keys(a),u=n?"".concat(n.name,"."):"";return i.a.createElement(yi,{layout:r,fields:s.map((function(e){var n=a[e],r=n.label,o=Object(O.a)(n,["label"]);if("hidden"in n||"references"===n.type||"virtual"===n.type)return null;var s=Jn(n),d=r||Object(ui.a)(e);if(s&&"function"===typeof s.getHint){var p=s.getHint(a[e]);p&&(d+=" ".concat(p))}"required"in n&&n.required&&(d+="*");var m="".concat(u).concat(e),f=Object(mt.d)(t.errors,m),h=Object(x.a)({},ra()(o,oa),{models:"model"in o?[o.model]:"models"in o?o.models:void 0});return{label:d,element:i.a.createElement(mt.a,Object.assign({name:m,component:s,model:l,id:c},h,{validate:function(e){if("function"===typeof s.validate)return s.validate(e,o)}})),key:e,error:Na(f)?f:void 0}})).filter(Boolean)})}}],[{key:"getDefaultValue",value:function(e){var t=e.fields,n={};return Object.keys(t).forEach((function(e){var a=t[e];if("references"!==a.type){var i=Jn(a);n[e]=i&&i.getDefaultValue?i.getDefaultValue(a):null}})),n}},{key:"validate",value:function(e,t){var n=bn(e,t);if(n)return n;var a={};return Object.keys(t.fields).forEach((function(n){if("references"!==t.fields[n].type){var i=Jn(t.fields[n]).validate((e||{})[n],t.fields[n]);i&&(a[n]=i)}})),Object.keys(a).length>0?a:void 0}}]),n}(a.Component),Ci=Object(d.b)("div").withConfig({displayName:"UnionInput__TypeLabel",componentId:"sc-98hu9d-0"})(["color:var(--primary-color);font-weight:bold;font-size:16px;text-transform:uppercase;margin-bottom:1em;"]),Ei=Object(d.b)("div").withConfig({displayName:"UnionInput__Icon",componentId:"sc-98hu9d-1"})(["display:inline-block;width:24px;height:24px;mask-image:url(",");background-color:var(--accent-color);margin-right:4px;"],(function(e){var t=e.name;return"".concat(g,"/rest/icons/").concat(t,".svg")})),ki=Object(d.b)("div").withConfig({displayName:"UnionInput__WrapFlexCenter",componentId:"sc-98hu9d-2"})(["display:flex;align-items:center;"]),Si=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.types,r=e.form,o=Object(O.a)(e,["field","types","form"]),l=t.value;if(!l)return null;var c=l._type,s=n[c];return i.a.createElement(a.Fragment,null,i.a.createElement(Ci,null,s.label||Object(ui.a)(c)),i.a.createElement(wi,Object.assign({field:t,form:r},s,o)))}}],[{key:"getDefaultValue",value:function(e){return null}},{key:"validate",value:function(e,t){var n=bn(e,t);if(n)return n;var a=t.types[e._type],i=Jn(a).validate(e,a);return i||void 0}},{key:"itemFactory",value:function(e,t){return function(){return i.a.createElement(Rt,{title:"Choose a type",onClose:function(){return t(null)},style:{minWidth:250,maxWidth:750}},i.a.createElement(ki,{style:{flexWrap:"wrap"}},Object.keys(e.types).map((function(n){return i.a.createElement(Ot,{light:!0,key:n,onClick:function(){return t({_type:n})}},i.a.createElement(ki,null,e.types[n].icon&&i.a.createElement(Ei,{name:e.types[n].icon}),e.types[n].label||n))}))))}}}]),n}(a.Component),_i=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.types,r=Object(O.a)(e,["value","types"]);if(!t)return null;var o=t._type,l=n[o];if(!l)return null;var c=l.fields;return i.a.createElement(a.Fragment,null,i.a.createElement(Ci,{style:{color:"var(--dark-color)"}},l.label||Object(ui.a)(o)),i.a.createElement(xi,Object.assign({fields:c,value:t},r)))}}],[{key:"getSummaryImage",value:function(e){return n.getSummary("getSummaryImage",e)}},{key:"getSummaryText",value:function(e){return n.getSummary("getSummaryText",e)}}]),n}(a.Component);_i.getSummary=function(e,t){var n=t.value,a=t.types;if(!n||!n._type)return null;var i=ei(a[n._type]);return i&&i[e]?i[e](Object(x.a)({},a[n._type],{value:n})):null};var Ii=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={options:[]},e.setOptions=function(t){var n=e.props.nullLabel,a=t?t.map((function(e){return"string"===typeof e?{label:e,value:e}:e})):[];n&&a.unshift({label:n,value:""}),e.setState({options:a})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.values,n=e.fetch,a=e.nullLabel,i=e.form,r=e.field;n?k.get(n).then(this.setOptions):(this.setOptions(t),!a&&!r.value&&t&&t.length>0&&i.setFieldValue(r.name,"string"===typeof t[0]?t[0]:t[0].value))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.nullLabel,a=t.values,i=t.form,r=t.field;n||r.value||!a||a===e.values||i.setFieldValue(r.name,"string"===typeof a[0]?a[0]:a[0].value)}},{key:"render",value:function(){var e=this.props.field,t=this.state.options,n=e.value,a=Object(O.a)(e,["value"]),r=t.find((function(e){return String(e.value)===String(n)}));return i.a.createElement("select",Object.assign({value:r?"string"===typeof r?r:r.value:""},a),t.map((function(e){return i.a.createElement("option",{key:e.value,value:e.value},e.label)})))}}],[{key:"getDefaultValue",value:function(e){return e.nullLabel?null:e.values&&e.values[0]?"string"===typeof e.values[0]?e.values[0]:e.values[0].value:null}},{key:"validate",value:function(e,t){var n=bn(e,t);if(n)return n}}]),n}(a.Component),Li=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.value;return i.a.createElement("select",{disabled:!0},i.a.createElement("option",{value:"string"===typeof e?e:e&&e.value},"string"===typeof e?e:e&&e.label),")")}}]),n}(a.Component),Ni=n(24),Vi=Object(d.b)("div").withConfig({displayName:"ActionButton__Button",componentId:"lvsqva-0"})(["display:inline-block;border-radius:3px;position:relative;background-color:",";"],(function(e){return e.disabled?"var(--disabled-color)":"var(--accent-color)"})),Mi=Object(d.b)("div").withConfig({displayName:"ActionButton__ButtonFace",componentId:"lvsqva-1"})(["border-radius:3px;box-sizing:border-box;color:#fff;cursor:pointer;font-family:inherit;font-size:1.1em;font-weight:500;line-height:inherit;padding:0.8em 1em;display:inline-flex;text-transform:uppercase;white-space:nowrap;background-color:",";:hover{background-color:",";}"],(function(e){return e.disabled?"var(--disabled-color)":"transparent"}),(function(e){return e.disabled?"var(--disabled-color)":"hsla(0, 0%, 100%, 0.1)"})),Di=Object(d.b)("div").withConfig({displayName:"ActionButton__Label",componentId:"lvsqva-2"})(["flex:1;margin-right:1em;"]),Ri={item:{cursor:"pointer"}},zi=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).renderMenu=function(t){var n=e.props,a=n.disabled,r=n.actions;return a?null:i.a.createElement(M,null,r.filter((function(e){return!e.disabled})).map((function(e){return i.a.createElement(D,Object.assign({},U("action-item"),{style:Ri.item,key:e.label,onClick:function(){e.onClick&&e.onClick(),t()}}),e.label)})))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.disabled,a=(e.actions,Object(O.a)(e,["label","disabled","actions"]));return i.a.createElement("span",null,i.a.createElement(R,{renderMenu:this.renderMenu},i.a.createElement(Vi,{disabled:n},i.a.createElement(Mi,Object.assign({disabled:n},a),i.a.createElement(Di,null,t),i.a.createElement(Et.Down,null)))))}}]),n}(a.Component),Ti=Object(d.b)("span").withConfig({displayName:"MapInput__Action",componentId:"sc-1nmriyl-0"})(["margin-left:1em;opacity:0;cursor:pointer;color:var(--accent-color);:hover{text-decoration:underline;}tr:hover &{opacity:1;}transition:opacity 0.5s;"]),Fi=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={options:e.props.keys.values||[]},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.keys.fetch&&k.get(this.props.keys.fetch).then((function(t){return e.setState({options:[].concat(Object(Ni.a)(e.state.options),Object(Ni.a)(t))})}))}},{key:"add",value:function(e){var t=this.props,n=t.form,a=t.field;n.setFieldValue(a.name,Object(x.a)({},a.value,Object($n.a)({},e,null)))}},{key:"remove",value:function(e){var t=this.props,n=t.form,a=t.field,i=Object(x.a)({},a.value);delete i[e],n.setFieldValue(a.name,i)}},{key:"getValue",value:function(e){return"object"===typeof e?e.value:e}},{key:"getLabel",value:function(e){return"object"===typeof e?e.label:e}},{key:"render",value:function(){var e=this,t=this.props,n=t.field,a=t.values,r=t.form,o=this.state.options;if(!o)return null;var l=Jn(a),c=n?"".concat(n.name,"."):"",s=n.value,u=o.filter((function(t){return s&&e.getValue(t)in s})),d=o.filter((function(t){return s&&!(e.getValue(t)in s)}));return i.a.createElement("div",null,i.a.createElement(yi,{layout:"horizontal",fields:u.map((function(t){var n=i.a.createElement("div",{style:{display:"flex"}},e.getLabel(t),i.a.createElement(Ti,{onClick:function(){return e.remove(e.getValue(t))}},"remove"));t=e.getValue(t);var o="".concat(c).concat(t),s=Object(mt.d)(r.errors,o),u=i.a.createElement(mt.a,Object.assign({name:"".concat(c).concat(t),component:l},a));return{key:t,label:n,element:u,error:s}}))}),i.a.createElement(zi,{"data-name":n.name,label:"Add \u2026",disabled:!d.length,actions:d.map((function(t){return{label:e.getLabel(t),onClick:function(){e.add(e.getValue(t))}}}))}))}}],[{key:"getDefaultValue",value:function(e){return{}}},{key:"validate",value:function(e,t){var n=bn(e,t);if(n)return n}}]),n}(a.Component),Hi=n(294),Pi=n(15),Ai=n.n(Pi),qi=n(29);function Bi(e,t){return Array.prototype.every.call(e,t)}var Ui=function(){};function Wi(e){var t=e.render,n=e.onUpload,r=e.className,o=e.activeClass,l=e.multiple,c=e.mediaType,s=e.mediaFilter,u=function(e){var t=Object(a.useState)(),n=Object(h.a)(t,2),i=n[0],r=n[1];return[i,Object(a.useMemo)((function(){return function(){var t=Object(qi.a)(Ai.a.mark((function t(n){return Ai.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n);case 2:if(!t.sent){t.next=6;break}r(n),t.next=7;break;case 6:alert("File doesn't match requirements");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),[e,r]),Object(a.useMemo)((function(){return function(){return r(void 0)}}),[r])]}(Object(a.useMemo)((function(){return function(e,t){return function(){var n=Object(qi.a)(Ai.a.mark((function n(a){var i,r;return Ai.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=!0,e&&"all"!==e&&(i=i&&Bi(a,(function(t){return t.type.includes(e)}))),!t){n.next=10;break}if(t.mimeType&&(i=i&&Bi(a,(function(e){return Z(e.type,t.mimeType)}))),t.maxSize&&(i=i&&Bi(a,(function(e){return t&&e.size<t.maxSize}))),!(t.minHeight||t.minWidth||t.maxWidth||t.maxHeight)){n.next=10;break}return n.next=8,Promise.all((o=a,l=function(e){return new Promise((function(n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(e){var a=new Image;a.src=e.target.result,a.onload=function(){var e=a.naturalHeight,i=a.naturalWidth;n(!(t.maxWidth&&t.maxWidth<i||t.minWidth&&t.minWidth>i||t.maxHeight&&t.maxHeight<e||t.minHeight&&t.minHeight>e))}}}))},Array.prototype.map.call(o,l)));case 8:r=n.sent,i=r.reduce((function(e,t){return e&&t}),i);case 10:return n.abrupt("return",i);case 11:case"end":return n.stop()}var o,l}),n)})));return function(e){return n.apply(this,arguments)}}()}(c,s)}),[c,s])),d=Object(h.a)(u,3),p=d[0],m=d[1],v=d[2],b=Object(Hi.a)({multiple:l,noKeyboard:!0,noClick:!0,onDrop:m}),g=b.getRootProps,y=b.getInputProps,O=b.isDragActive,j=Object(f.c)(p,{path:"/upload",name:"file",withCredentials:!0}),w=j.done,C=j.response,E=j.progress,k=j.error;return Object(a.useEffect)((function(){w&&(v(),n(C.response))}),[w,C,n,v]),i.a.createElement("div",Object.assign({},g(),{onClick:Ui,className:"".concat(r," ").concat(O?o:"")}),i.a.createElement("input",y()),Object(a.useMemo)((function(){return t(Object(x.a)({},C,{complete:w,onFiles:m,progress:E,error:k,files:p}))}),[t,E,p,m,w,C,k]))}var Zi=n(80),Yi=n(193),Gi=n(98);function $i(){var e=Object(S.a)(["\n      opacity: 0.2;\n      cursor: not-allowed;\n    "]);return $i=function(){return e},e}function Xi(){var e=Object(S.a)(["\n      cursor: pointer;\n    "]);return Xi=function(){return e},e}var Ki=Object(d.b)("div").withConfig({displayName:"Image__Tile",componentId:"sc-1sbktbm-0"})(['position:relative;display:flex;align-items:center;justify-content:center;width:150px;height:150px;background:#eee url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4" fill-opacity=".05" ><rect x="2" width="2" height="2" /><rect y="2" width="2" height="2" /></svg>\');background-size:20px 20px;box-shadow:0 2px 3px rgba(0,0,0,0.3);',";",";"],(function(e){return e.onClick&&Object(d.a)(Xi())}),(function(e){return e.disabled&&Object(d.a)($i())})),Ji=Object(d.b)("div").withConfig({displayName:"Image__Caption",componentId:"sc-1sbktbm-1"})(["position:absolute;right:0;bottom:0;left:0;padding:3px 8px;background-color:rgba(0,0,0,0.6);color:#fff;font-size:11px;overflow-wrap:break-word;"]),Qi=Object(d.b)("div").withConfig({displayName:"Image__ItemActions",componentId:"sc-1sbktbm-2"})(["position:absolute;z-index:1;opacity:0;transition:opacity 0.2s;div:hover > &{opacity:1;}"]),er=Object(d.b)("div").withConfig({displayName:"Image__Action",componentId:"sc-1sbktbm-3"})(["background-color:#fff;height:30px;width:30px;border-radius:15px;color:#000;display:block;margin:0 auto;display:inline-block;position:relative;margin:4px;box-shadow:0 1px 6px rgba(0,0,0,0.6);cursor:pointer;svg{width:100%;height:100%;padding:4px;box-sizing:border-box;path:{fill:inherit;}}"]),tr=Object(d.b)("div").withConfig({displayName:"Image__Doc",componentId:"sc-1sbktbm-4"})(["display:flex;flex-direction:column;align-items:center;margin-bottom:10px;text-transform:uppercase;"]),nr=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.onSelect,a=e.originalname,r=e.width,o=e.editable,l=e.onDelete,c=e.disabled;return i.a.createElement("div",null,i.a.createElement(Ki,Object.assign({style:t,onClick:o||c?void 0:n,disabled:c},U("media-tile")),!c&&o&&i.a.createElement(Qi,U("media-tile-actions"),n&&i.a.createElement(er,Object.assign({onClick:n},U("media-details")),i.a.createElement(Et.Details,null)),l&&i.a.createElement(er,Object.assign({onClick:l,style:{backgroundColor:"#ff5e49",color:"#fff"}},U("media-delete")),i.a.createElement(Et.Trash,null))),r?this.renderImage():this.renderIcon(),i.a.createElement(Ji,U("media-caption"),a)))}},{key:"renderImage",value:function(){var e=this.props.id;return i.a.createElement("img",Object.assign({style:{objectFit:"contain"},src:e.includes("://")?e:"".concat(y,"/thumbs/square/").concat(e),alt:"",width:"150",height:"150"},U("media-preview")))}},{key:"renderIcon",value:function(){var e=this.props.originalname,t=e&&e.replace(/.*\./,"");return i.a.createElement(tr,null,i.a.createElement(Et.Document,Object.assign({width:48,height:48},U("media-preview"))),t)}}]),n}(a.Component),ar=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).cache=new Zi.b({defaultHeight:150,defaultWidth:150,fixedWidth:!0}),e.masonry=void 0,e.columnCount=1,e.width=200,e.cellPositioner=Object(Yi.b)({cellMeasurerCache:e.cache,columnCount:e.columnCount,columnWidth:150,spacer:20}),e.cellRenderer=function(t){var n=t.index,a=(t.key,t.parent),r=t.style,o=e.props,l=o.data,c=o.onSelect,s=o.editable,u=o.onDelete,d=o.mediaFilter,p=l[n];if(!p)return null;var m=d&&(d.mimeType&&!Z(p.mimetype,d.mimeType)||d.maxSize&&d.maxSize<p.size||d.maxWidth&&d.maxWidth<p.width||d.minWidth&&d.minWidth>p.width||d.maxHeight&&d.maxHeight<p.height||d.minHeight&&d.minHeight>p.height);return i.a.createElement(Zi.a,{cache:e.cache,index:n,key:p.id,parent:a},i.a.createElement(nr,Object.assign({style:r},p,{onSelect:function(){return c([p])},onDelete:function(){return u(p)},editable:s&&!m,disabled:m})))},e.setMasonryRef=function(t){e.masonry=t},e.onResize=function(t){var n=t.width;e.width=n,e.calculateColumnCount(),e.resetCellPositioner(),e.masonry&&e.masonry.recomputeCellPositions()},e.renderMasonry=function(t){var n=e.props,a=n.count,r=n.onRowsRendered;return e.calculateColumnCount(),i.a.createElement(Yi.a,{ref:e.setMasonryRef,cellCount:Number(a),cellMeasurerCache:e.cache,cellPositioner:e.cellPositioner,cellRenderer:e.cellRenderer,autoHeight:!1,height:t.height,width:t.width,style:{outline:"none",padding:"20px"},overscanByPixels:1e3,onCellsRendered:r})},e}return Object(c.a)(n,[{key:"calculateColumnCount",value:function(){this.columnCount=Math.floor(this.width/170)}},{key:"resetCellPositioner",value:function(){this.cellPositioner.reset({columnCount:this.columnCount,columnWidth:150,spacer:20})}},{key:"render",value:function(){var e=this.props.data;return e?i.a.createElement(Gi.a,{onResize:this.onResize,data:e},this.renderMasonry):null}}]),n}(a.Component),ir=n(285),rr=n.n(ir),or=Object(d.b)("div").withConfig({displayName:"FocusPoint__Root",componentId:"sc-6hap0i-0"})(["max-width:100%;max-height:100%;width:100%;height:100%;background-color:#f5f5f5;border-radius:4px;"]),lr=Object(d.b)("div").withConfig({displayName:"FocusPoint__EditBackground",componentId:"sc-6hap0i-1"})(["height:100vh;width:100vw;position:fixed;background-color:rgba(0,0,0,0.65);top:0;left:0;right:0;z-index:20;display:",";opacity:",";transition:all 0.3s ease;"],(function(e){return e.inEdit?"block":"none"}),(function(e){return e.inEdit?1:0})),cr=Object(d.b)("div").withConfig({displayName:"FocusPoint__ActionsBar",componentId:"sc-6hap0i-2"})(["position:absolute;top:",";right:",";left:",";background:rgba(255,255,255,0.8);border-radius:4px;box-sizing:border-box;white-space:nowrap;"],(function(e){return e.bottom?"100%":0}),(function(e){return e.bottom&&0}),(function(e){return!e.bottom&&"100%"})),sr=Object(d.b)("div").withConfig({displayName:"FocusPoint__EditRoot",componentId:"sc-6hap0i-3"})(["z-index:",";position:relative;max-width:100%;max-height:100%;height:100%;"],(function(e){return e.inEdit&&21})),ur=Object(d.b)("div").withConfig({displayName:"FocusPoint__TargetWrapper",componentId:"sc-6hap0i-4"})(["max-height:100%;max-width:100%;width:",";height:",";position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);"],(function(e){var t=e.width;return t>e.height&&"".concat(t,"px")}),(function(e){var t=e.width,n=e.height;return t<n&&"".concat(n,"px")})),dr=Object(d.b)("div").withConfig({displayName:"FocusPoint__FocusTarget",componentId:"sc-6hap0i-5"})(["position:absolute;top:0px;left:0ox;display:flex;cursor:",";& > svg{color:#fff;filter:drop-shadow(0 3px 3px rgba(0,0,0,0.6));margin:-2px;}"],(function(e){return e.inEdit&&"move"})),pr=Object(d.b)(Et.More).withConfig({displayName:"FocusPoint__MoreIcon",componentId:"sc-6hap0i-6"})(["position:absolute;top:7px;right:7px;z-index:1;color:var(--dark-color);background:rgba(255,255,255,0.8);border-radius:100%;margin:0 0 0 4px;box-shadow:0 2px 3px rgba(0,0,0,0.15);cursor:pointer;"]),mr=Object(d.b)("img").withConfig({displayName:"FocusPoint__Img",componentId:"sc-6hap0i-7"})(["border-radius:3px;max-height:100%;max-width:100%;object-fit:contain;user-select:none;"]),fr=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={inEdit:!1},a.focusTarget=void 0,a.getDimensions=function(){var e=a.props,t=e.data,n=e.initialX,i=e.initialY,r=a.focusTarget.current.clientWidth,o=a.focusTarget.current.clientHeight,l=r/t.width,c=void 0===n?r/2:n*l,s=void 0===i?o/2:i*l;a.setState({positionX:c,positionY:s,ratio:l,displayWidth:r,displayHeight:o})},a.onDragStop=function(e,t){var n=t.x,i=t.y;a.setState({positionX:n,positionY:i})},a.onSave=function(){var e=a.state,t=e.ratio,n=void 0===t?1:t,i=e.positionX,r=void 0===i?0:i,o=e.positionY,l=void 0===o?0:o;a.props.onPosistionChange(r/n,l/n),a.setState({inEdit:!1})},a.onCancel=function(){var e=a.props,t=e.initialX,n=e.initialY,i=a.state.ratio,r=void 0===i?1:i;t&&n?a.setState({positionX:t*r,positionY:n*r}):a.getDimensions(),a.setState({inEdit:!1})},a.focusTarget=i.a.createRef(),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.getDimensions),setTimeout((function(){e.getDimensions()}),100)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.getDimensions)}},{key:"render",value:function(){var e=this,t=this.state,n=t.positionX,a=t.positionY,r=t.inEdit,o=t.ratio,l=t.displayHeight,c=this.props.data,s=c.width,u=c.height,d=c.id;return i.a.createElement(or,null,i.a.createElement(sr,{inEdit:r},!r&&i.a.createElement(pr,{onClick:function(){e.state.ratio||e.getDimensions(),e.setState({inEdit:!0})}}),i.a.createElement(ur,{width:s,height:u},r&&i.a.createElement(cr,{bottom:void 0!==l&&(l>=u||u<s)},i.a.createElement(Ot,{icon:jt.Save,onClick:this.onSave,light:!0},"Ok"),i.a.createElement(Ot,{icon:jt.Clear,onClick:this.onCancel,light:!0},"Cancel")),i.a.createElement(mr,{src:"".concat(y).concat("/thumbs/preview/").concat(d),ref:this.focusTarget,style:{width:s>u?s:"unset",height:s<u?u:"unset"},alt:""}),i.a.createElement(rr.a,{bounds:"img",onStop:this.onDragStop,position:n&&a?{x:n,y:a}:void 0,disabled:!r},o?i.a.createElement(dr,{inEdit:r},i.a.createElement(Et.Focus,null)):i.a.createElement("div",null)))),i.a.createElement(lr,{inEdit:r,onClick:function(){return e.setState({inEdit:!1})}}))}}]),n}(a.Component),hr=new T.a({saturation:.7,lightness:.6}),vr=Object(d.b)("div").withConfig({displayName:"ChipList__Item",componentId:"sc-1ser1jx-0"})(['box-sizing:border-box;color:"#fff";border:none;min-height:var(--input-min-height);outline:none;padding:5px;display:inline-flex;transition:background-color 300ms cubic-bezier(0.4,0,0.2,1) 0ms,box-shadow 300ms cubic-bezier(0.4,0,0.2,1) 0ms;white-space:nowrap;align-items:center;border-radius:4px;vertical-align:middle;text-decoration:none;justify-content:center;margin:0 10px 10px 0;']),br=Object(d.b)("button").withConfig({displayName:"ChipList__StyledButton",componentId:"sc-1ser1jx-1"})(["padding:0;border:none;background:none;cursor:pointer;:focus{outline:0;}"]),gr=Object(d.b)("div").withConfig({displayName:"ChipList__Root",componentId:"sc-1ser1jx-2"})(["margin:10px 0;"]),yr=Object(d.b)("form").withConfig({displayName:"ChipList__Form",componentId:"sc-1ser1jx-3"})(["display:flex;width:100%;"]),xr=Object(d.b)(Et.ClearCircle).withConfig({displayName:"ChipList__ClearCircleIcon",componentId:"sc-1ser1jx-4"})(["color:rgba(255,255,255,0.8);margin:0 0 0 4px;"]),Or=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={newValue:""},e.onAdd=function(){var t=e.state.newValue;e.props.onAdd(t),e.setState({newValue:""})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.values,a=t.onDelete,r=this.state.newValue;return i.a.createElement(gr,null,n&&n.map((function(e,t){return i.a.createElement(vr,{key:t,style:{background:hr.hex(String(e))}},e,i.a.createElement(br,{type:"button",onClick:function(){return a(t)}},i.a.createElement(xr,null)))})),i.a.createElement(yr,{onSubmit:function(t){t.preventDefault(),e.onAdd()}},i.a.createElement(de,Object.assign({},U("chip-list-input"),{value:r,onChange:function(t){return e.setState({newValue:t.target.value})}})),i.a.createElement(Ot,{icon:jt.Plus,light:!0,type:"submit"},"Add")))}}]),n}(a.Component),jr=Object(d.b)("div").withConfig({displayName:"Details__MetaInput",componentId:"sc-123uyy3-0"})(["margin-bottom:10px;"]),wr=Object(d.b)("div").withConfig({displayName:"Details__MetaData",componentId:"sc-123uyy3-1"})(["background-color:#f5f5f5;border-radius:4px;padding:24px;padding:1.5rem;"]),Cr=Object(d.b)("div").withConfig({displayName:"Details__Grid",componentId:"sc-123uyy3-2"})(["list-style:none;margin-right:0;margin-left:-24px;padding-left:0;padding-right:0;letter-spacing:-1000em;display:flex;flex-wrap:wrap;"]),Er=Object(d.b)("div").withConfig({displayName:"Details__FlexRow",componentId:"sc-123uyy3-3"})(["display:flex;width:100%;"]),kr=Object(d.b)("div").withConfig({displayName:"Details__Meta",componentId:"sc-123uyy3-4"})(["display:inline-block;padding-left:24px;vertical-align:top;box-sizing:border-box;letter-spacing:0;width:100%;margin-bottom:1.5rem;"]),Sr=Object(d.b)("div").withConfig({displayName:"Details__MetaItemLabel",componentId:"sc-123uyy3-5"})(["text-transform:uppercase;color:#848484;font-weight:500;font-size:14px;font-size:0.875rem;margin-bottom:0.5em;"]),_r=Object(d.b)("div").withConfig({displayName:"Details__MetaItemValue",componentId:"sc-123uyy3-6"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),Ir=function(e){var t=e.label,n=e.value,a=e.noMargin;return i.a.createElement(kr,{style:a?{marginBottom:0}:{}},i.a.createElement(Sr,null,t),i.a.createElement(_r,null,n))},Lr={width:"90vw",maxWidth:1200,height:"80vmin",maxHeight:800},Nr=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).onFocusChange=function(e,t){a.setState({x:e,y:t})},a.onSave=function(){var e=a.state,t=e.x,n=e.y,i=e.tags,r=e.credit,o=e.alt,l=e.originalname,c=Object(h.a)(a.props.data,1)[0],s=a.props.data[0].originalname.split(".").pop();k.updateMedia(c.id,{focusX:t,focusY:n,tags:i,credit:r,alt:o,originalname:l+"."+s}).then((function(){a.props.fetchMediaItem(c)})),a.props.onClose()},a.onAddTag=function(e){var t=a.state.tags;t.push(e),a.setState({tags:t})},a.onDeleteTag=function(e){var t=a.state.tags;t.splice(e,1),a.setState({tags:t})};var i=Object(h.a)(a.props.data,1)[0],r=i.focusX,o=i.focusY,c=i.tags,s=i.credit,u=i.alt,d=i.originalname.split(".");d.pop();var p=d.join(".");return a.state={x:r,y:o,tags:c||[],alt:u,credit:s,originalname:p},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,a=t.data,r=this.state,o=r.x,l=r.y,c=r.tags,s=r.credit,u=r.alt,d=r.originalname;if(!a)return null;var p=Object(h.a)(this.props.data,1)[0],m=p.imagetype,f=p.created_at,v=p.size,b=p.width,g=p.height,x=p.focusX,O=p.focusY,j=p.id,w=[i.a.createElement(Ot,{icon:jt.Save,onClick:this.onSave},"Save"),i.a.createElement(Ot,{icon:jt.Clear,onClick:n,light:!0},"Cancel")],C=!!["png","jpg","svg"].find((function(e){return e===m}));return i.a.createElement(Rt,{onClose:n,title:"Details",actionButtons:w,style:Lr,bodyStyle:{padding:0}},i.a.createElement(st,{style:{height:"100%"}},C&&i.a.createElement(ut,null,i.a.createElement(fr,{data:p,onPosistionChange:this.onFocusChange,initialX:o||(x||void 0),initialY:l||(O||void 0)})),i.a.createElement(ut,{style:{overflowY:"scroll"}},i.a.createElement(dt,{style:C?void 0:{marginLeft:0}},i.a.createElement(wr,null,i.a.createElement(jr,null,i.a.createElement(Sr,null,"Alt"),i.a.createElement(de,Object.assign({},U("meta-data-alt"),{value:u||"",onChange:function(t){return e.setState({alt:t.target.value})}}))),i.a.createElement(jr,null,i.a.createElement(Sr,null,"File Name"),i.a.createElement(de,Object.assign({},U("meta-data-originalname"),{value:d||"",onChange:function(t){return e.setState({originalname:t.target.value})}}))),i.a.createElement(jr,null,i.a.createElement(Sr,null,"Credit"),i.a.createElement(de,{value:s||"",onChange:function(t){return e.setState({credit:t.target.value})}})),i.a.createElement(jr,null,i.a.createElement(Sr,null,"URL"),i.a.createElement(Er,null,i.a.createElement(de,{value:window.location.origin+y+"/media/"+j,readOnly:!0}),i.a.createElement(Ot,{icon:jt.OpenInTab,light:!0,href:y+"/media/"+j,target:"_blank",asLink:!0,title:"open in new tab"},"open"))),i.a.createElement(Sr,null,"Tags"),i.a.createElement(Or,{onAdd:this.onAddTag,onDelete:this.onDeleteTag,values:c})),i.a.createElement(wr,{style:{marginTop:"1em"}},i.a.createElement(Cr,null,i.a.createElement(Ir,{label:"File type",value:m}),i.a.createElement(Ir,{label:"File size",value:A(v)}),i.a.createElement(Ir,{label:"Upload date",value:i.a.createElement(Ie.a,{date:new Date(f)})}),b&&i.a.createElement(Ir,{label:"Dimensions",value:"".concat(b,"x").concat(g,"px"),noMargin:!0})))))))}}]),n}(a.Component),Vr=Object(d.b)("input").withConfig({displayName:"UploadField__FileInput",componentId:"sc-11y6q8q-0"})(["top:0;right:0;opacity:0;width:100%;height:100%;cursor:pointer;position:absolute;"]),Mr=Object(d.b)("div").withConfig({displayName:"UploadField__Container",componentId:"sc-11y6q8q-1"})(["overflow:hidden;position:relative;"]);function Dr(e){var t=e.onFiles,n=e.children,a=Object(O.a)(e,["onFiles","children"]);return i.a.createElement(Mr,null,n,i.a.createElement(Vr,Object.assign({},a,{type:"file",onChange:function(e){e.target.files&&t(e.target.files)}})))}var Rr=Object(d.b)("div").withConfig({displayName:"Topbar__Root",componentId:"ouse65-0"})(["padding:0 20px;box-shadow:0 1px 4px rgba(0,0,0,0.08);position:relative;background-color:#fff;z-index:1;display:flex;align-items:stretch;"]),zr=Object(d.b)("div").withConfig({displayName:"Topbar__Filters",componentId:"ouse65-1"})(["padding-right:20px;border-right:1px solid #f0f0f0;display:flex;align-items:stretch;"]),Tr=Object(d.b)("div").withConfig({displayName:"Topbar__IconBox",componentId:"ouse65-2"})(["padding-left:20px;padding-right:20px;border-right:1px solid #f0f0f0;display:flex;align-items:center;font-size:15px;font-size:0.9375rem;color:var(--dark-grey);& button{padding:0;}"]),Fr=Object(d.b)("div").withConfig({displayName:"Topbar__Search",componentId:"ouse65-3"})(["position:relative;display:flex;align-items:center;padding-left:20px;flex:1;& > svg{color:var(--disabled-color);}"]),Hr=Object(d.b)("input").withConfig({displayName:"Topbar__SearchInput",componentId:"ouse65-4"})(["border:0;padding-left:40px;background-color:transparent;display:block;box-sizing:border-box;width:100%;padding:10px;border-radius:0;background-image:none;transition:border 0.2s cubic-bezier(0.55,0,0.1,1);font-size:15px;font-size:0.9375rem;:focus{outline:0;}"]),Pr=Object(d.b)("div").withConfig({displayName:"Topbar__Add",componentId:"ouse65-5"})(["display:flex;align-items:stretch;padding-left:20px;& > div{display:flex;justify-content:center;align-items:center;}"]),Ar=Object(d.b)(Ot).withConfig({displayName:"Topbar__Button",componentId:"ouse65-6"})(["color:var(--dark-color);-webkit-appearance:none;background-color:transparent;padding:17px 20px 13px;border-width:0;border-bottom:4px solid transparent;border-radius:0;border-bottom-color:",";:hover{color:#fff;}"],(function(e){return e.active&&"var(--accent-color)"})),qr=Object(d.b)(Ot).withConfig({displayName:"Topbar__UploadButton",componentId:"ouse65-7"})(["-webkit-appearance:none;border-width:0;:hover{color:#fff;}color:#fff;background:var(--accent-color);padding:0.7em 1em;border-radius:3px;border-bottom:0px;"]),Br=Object(d.b)("div").withConfig({displayName:"Topbar__OrderButton",componentId:"ouse65-8"})(["padding-left:20px;padding-right:20px;height:24px;cursor:pointer;& > svg{color:var(--dark-grey);transform:",";}"],(function(e){return e.ascending&&"rotate(180deg)"}));function Ur(e){var t=Object(a.useState)(e.filters[0].label),n=Object(h.a)(t,2),r=n[0],o=n[1],l=Object(a.useState)(!1),c=Object(h.a)(l,2),s=c[0],u=c[1],d=Object(a.useState)(!1),p=Object(h.a)(d,2),m=p[0],v=p[1],b=Object(a.useState)("Date"),g=Object(h.a)(b,2),y=g[0],x=g[1],O=Object(a.useState)(!0),j=Object(h.a)(O,2),w=j[0],C=j[1],E=Object(a.useState)(0),k=Object(h.a)(E,2),S=k[0],_=k[1],I=Object(a.useState)(),L=Object(h.a)(I,2),N=L[0],V=L[1],M=e.onUpload,D=e.onUploadProgress,R=Object(f.c)(N,{path:"/upload",name:"file",withCredentials:!0}),z=R.done,T=R.response,F=R.progress;Object(a.useEffect)((function(){F&&D(F||0)}),[F,D]),Object(a.useEffect)((function(){z&&M(T.response)}),[z,T,M]);var H=e.filters,P=e.onFilterChange,A=e.onSearch,q=e.orderBys,B=e.onOrderByChange,U=e.onOrderChange,W=e.onUnUsedChange,Z=e.onUsedChange;return i.a.createElement(Rr,null,i.a.createElement(zr,null,H&&H.map((function(e,t){return i.a.createElement(Ar,{active:e.label===r,key:t,onClick:function(){o(e.label),P(e.value)}},e.label)}))),i.a.createElement(Tr,null,i.a.createElement(ca,{actions:q.map((function(e){return{label:"Orderd by: "+e.label,active:y===e.label,onClick:function(){x(e.label),B(e.value)}}})),icon:i.a.createElement(Et.SortAlphabetical,null)}),i.a.createElement(Br,{ascending:!w,onClick:function(){U(w?"asc":"desc"),C(!w)}},i.a.createElement(Et.Descending,null)),i.a.createElement(ca,{actions:[{label:"Show all documents",onClick:function(){W(!1),u(!1),Z(!1),v(!1)},active:!s&&!m},{label:"Show unused documents",onClick:function(){W(!0),u(!0),Z(!1),v(!1)},active:s},{label:"Show used documents",onClick:function(){Z(!0),v(!0),W(!1),u(!1)},active:m}],icon:s||m?i.a.createElement(Et.FilterRemove,null):i.a.createElement(Et.Filter,null)})),i.a.createElement(Fr,null,i.a.createElement(Et.Search,null),i.a.createElement(Hr,{onChange:function(e){A(e.target.value)},placeholder:"Filter results..."})),i.a.createElement("div",{style:{flex:1}}),i.a.createElement(Pr,null,i.a.createElement(Dr,{key:S,onFiles:function(e){V(e),_(Date.now())},multiple:!0},i.a.createElement(qr,null,"Upload New"))))}var Wr=Object(d.b)("div").withConfig({displayName:"Media__Root",componentId:"msnqai-0"})(["height:100%;flex:1;display:flex;flex-direction:column;"]),Zr=Object(d.b)("div").withConfig({displayName:"Media__DuplicateDialog",componentId:"msnqai-1"})(["width:50vw;height:50vh;max-height:50vw;"]),Yr=Object(d.b)("div").withConfig({displayName:"Media__Main",componentId:"msnqai-2"})(["flex:1;user-select:none;"]),Gr=Object(d.b)(Wi).withConfig({displayName:"Media__StyledUploadZone",componentId:"msnqai-3"})(["flex:1;display:flex;flex-direction:column;&.","{background:var(--light-color);}"],"activeClass-UploadZone"),$r=[{label:"All",value:"all"},{label:"Images",value:"image/"},{label:"Videos",value:"video/"},{label:"PDF",value:"application/pdf"}],Xr=[{label:"Date",value:"created_at"},{label:"Size",value:"size"},{label:"Name",value:"originalname"}],Kr=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={total:0,items:[],lastRequestedIndex:0,details:null,conflictingItems:null,duplicates:null,editable:!1,orderBy:"created_at",order:"desc",filters:$r,topbarProgress:void 0,unUsed:!1,used:!1},a.fetchNextData=function(){a.fetchData(a.state.lastRequestedIndex,100)},a.fetchData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=a.state,i=n.fileType,r=n.order,o=n.orderBy,l=n.search,c=n.items,s=n.unUsed,u=n.used;a.setState({lastRequestedIndex:e+t});var d={mimetype:i,order:r,orderBy:o,search:l,offset:e,limit:t,unUsed:!!s||void 0,used:!!u||void 0};k.listMedia(d).then((function(t){return a.setState({total:t.total,items:c.slice(0,e).concat(t.items)})}))},a.onRowsRendered=function(e){e.stopIndex>=a.state.lastRequestedIndex&&a.fetchNextData()},a.fetchMediaItem=function(e){k.loadMedia(e.id).then((function(e){a.setState((function(t){return{items:t.items.map((function(t){return t.id===e.id?e:t}))}}))}))},a.deleteMedia=function(e){k.deleteMedia(e.id).then((function(t){var n=a.state.items;if(Array.isArray(n)){var i=n.slice();i.splice(i.indexOf(e),1),a.setState({items:i,details:null})}})).catch((function(e){400===e.status&&a.setState({conflictingItems:e.body,details:null})}))},a.onUpload=function(e){a.fetchData(0),e.duplicates.length&&a.setState({duplicates:e.duplicates})},a.onSelect=function(e){var t=a.props.onSelect;t?t(e):a.setState({details:e})},a.onFilterChange=function(e){a.state.fileType!==e&&("all"===e?a.setState({fileType:void 0,lastRequestedIndex:0},a.fetchNextData):a.setState({fileType:e,lastRequestedIndex:0},a.fetchNextData))},a.onOrderByChange=function(e){a.setState({orderBy:e,lastRequestedIndex:0},a.fetchNextData)},a.onOrderChange=function(e){a.setState({order:e,lastRequestedIndex:0},a.fetchNextData)},a.onUnUsedChange=function(e){a.setState({unUsed:e,lastRequestedIndex:0},a.fetchNextData)},a.onUsedChange=function(e){a.setState({used:e,lastRequestedIndex:0},a.fetchNextData)},a.onSearch=function(e){a.setState({search:e,lastRequestedIndex:0},a.fetchNextData)},a.closeDetails=function(){a.setState({details:null})},a.closeConflict=function(){a.setState({conflictingItems:null})},e.onSelect||(a.state.editable=!0),e.mediaType&&"string"===typeof e.mediaType&&"all"!==e.mediaType&&(a.state.filters=a.state.filters.filter((function(t){return t.value.includes(e.mediaType)})),a.state.filters.length>0&&(a.state.fileType=a.state.filters[0].value)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.fetchNextData()}},{key:"renderDuplicatesDialog",value:function(){var e=this,t=this.state.duplicates;return null===t?null:i.a.createElement(Rt,{title:"One or more files you tried to upload already exist.",onClose:function(){return e.setState({duplicates:null})}},i.a.createElement(Zr,null,i.a.createElement(ar,{count:t.length,data:t,editable:!1,onSelect:void 0,onDelete:void 0,onRowsRendered:function(){}})))}},{key:"shouldComponentUpdate",value:function(e,t){var n=this;return Object.entries(t).some((function(e){var t=Object(h.a)(e,2),a=t[0];return t[1]!==n.state[a]}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.details,a=t.conflictingItems,r=t.filters;return i.a.createElement(Wr,U("upload-zone"),a&&i.a.createElement(Ht,{onClose:this.closeConflict,items:a,type:"media",title:"File in use",description:"The file you're trying to delete is still in use. Please remove or replace the file in following locations:"}),this.renderDuplicatesDialog(),n&&i.a.createElement(Nr,{onClose:this.closeDetails,data:n,fetchMediaItem:this.fetchMediaItem}),i.a.createElement(Ur,{onUpload:this.onUpload,onUploadProgress:function(t){return e.setState({topbarProgress:t})},filters:r,onFilterChange:this.onFilterChange,onOrderByChange:this.onOrderByChange,onUnUsedChange:this.onUnUsedChange,onUsedChange:this.onUsedChange,onSearch:this.onSearch,orderBys:Xr,onOrderChange:this.onOrderChange}),i.a.createElement(Gr,{activeClass:"activeClass-UploadZone",onUpload:this.onUpload,render:function(t){var n=t.progress,a=e.state,r=a.total,o=a.items,l=a.editable,c=a.topbarProgress,s=n&&n<100||c&&c<100,u=s?r+1:r,d=s?[{progress:n&&n<100?n:c}].concat(Object(Ni.a)(o)):o;return i.a.createElement(Yr,null,i.a.createElement(ar,{count:u,data:d,editable:l,onSelect:e.onSelect,onDelete:e.deleteMedia,onRowsRendered:e.onRowsRendered,mediaFilter:e.props.mediaFilter}))}}))}}]),n}(a.Component),Jr=n(286),Qr={path:Object(d.a)(["stroke:var(--primary-color);stroke-linecap:round;transition:stroke-dashoffset 0.5s ease 0s;"]),trail:Object(d.a)(["stroke:#ddd;"]),text:Object(d.a)(["fill:var(--primary-color);font-size:20px;dominant-baseline:middle;text-anchor:middle;"]),background:Object(d.a)(["fill:#ddd;"]),root:""};function eo(e){var t=e.percentage,n=e.size,a=void 0===n?"100%":n;return i.a.createElement(Jr.a,{value:t,text:"".concat(t,"%"),classes:Qr,styles:{root:{width:a}}})}var to=Object(d.b)("div").withConfig({displayName:"MediaInput__Root",componentId:"sc-1hfp3c9-0"})(["display:flex;flex:1;align-items:center;"]),no=Object(d.b)(Wi).withConfig({displayName:"MediaInput__StyledUploadZone",componentId:"sc-1hfp3c9-1"})(["&.","{border-color:var(--accent-color);outline:1px solid var(--accent-color);}"],"active-upload-zone"),ao=Object(d.b)(no).withConfig({displayName:"MediaInput___StyledStyledUploadZone",componentId:"sc-1hfp3c9-2"})(["",""],ce),io=Object(d.b)("div").withConfig({displayName:"MediaInput__Chooser",componentId:"sc-1hfp3c9-3"})(["display:flex;flex:1;flex-direction:column;justify-content:center;align-items:center;margin:20px;min-height:110px;"]),ro=Object(d.b)("div").withConfig({displayName:"MediaInput__Buttons",componentId:"sc-1hfp3c9-4"})(["margin-top:10px;display:flex;align-items:center;"]),oo=Object(d.b)("div").withConfig({displayName:"MediaInput__EmptyTile",componentId:"sc-1hfp3c9-5"})(["width:150px;height:150px;border:1px dashed var(--dark-grey);"]),lo={width:"80vw",height:"90vh",background:"#f5f5f5",maxWidth:1600};function co(e){var t=e.media,n=e.onDelete;return"string"===typeof t?i.a.createElement(nr,{id:t,originalname:t.split("/").splice(-1)[0],width:150,height:150,onDelete:n,editable:!0}):i.a.createElement(nr,Object.assign({},t,{onDelete:n,editable:!0}))}var so=bt.withComponent("label"),uo=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e.openGallery=function(){e.setState({open:!0})},e.closeGallery=function(){e.setState({open:!1})},e.chooseMedia=function(t){var n=Object(h.a)(t,1)[0];e.closeGallery(),e.setState({media:n}),e.props.form.setFieldValue(e.props.field.name,n?"string"===typeof n?n:n.id:null)},e.onUpload=function(t){e.chooseMedia(t.files)},e.externalRefDialog=function(){e.setState({externalRefOpen:!0})},e.closeExternalRefDialog=function(){e.setState({externalRefOpen:!1,externalRefVal:"string"===typeof e.state.media?e.state.media:""})},e.closeAndSaveExternalRefDialog=function(){e.setState({externalRefOpen:!1}),e.chooseMedia([e.state.externalRefVal||""])},e.setExternalRef=function(t){e.setState({externalRefVal:t.target.value})},e.onDelete=function(){e.props.form.setFieldValue(e.props.field.name,null)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.fetchMedia()}},{key:"componentDidUpdate",value:function(e){this.props.field.value!==e.field.value&&this.fetchMedia()}},{key:"fetchMedia",value:function(){var e=this,t=this.props.field.value;this.props.withExternal&&t&&t.match(/^http/)?this.setState({media:t,externalRefVal:t}):t?k.loadMedia(t).then((function(t){e.props.field.value&&e.setState({media:t})})):this.setState({media:void 0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.media,a=t.open,r=t.externalRefOpen,o=this.props,l=o.mediaType,c=o.mimeType,s=o.maxSize,u=o.minWidth,d=o.minHeight,p=o.maxWidth,m=o.maxHeight;return i.a.createElement(ao,{multiple:!1,activeClass:"active-upload-zone",onUpload:this.onUpload,mediaType:l,mediaFilter:{mimeType:c,maxSize:s,minWidth:u,minHeight:d,maxWidth:p,maxHeight:m},render:function(t){var o=t.progress,f=t.complete,h=t.onFiles;return i.a.createElement(to,U("upload-zone"),o&&!f?i.a.createElement(eo,{size:150,percentage:o}):n?i.a.createElement(co,{media:n,onDelete:e.onDelete}):i.a.createElement(oo,null),i.a.createElement(io,null,"Drag an image here",i.a.createElement(ro,null,i.a.createElement(so,{light:!0},i.a.createElement(Dr,{onFiles:h},"Browse computer")),i.a.createElement(Ot,{light:!0,onClick:e.openGallery},"Open gallery"),e.props.withExternal&&i.a.createElement(Ot,{light:!0,onClick:e.externalRefDialog},"External Reference"))),a&&i.a.createElement(Rt,{onClose:e.closeGallery,title:"Gallery",style:lo},i.a.createElement(Kr,{openFromInput:!0,onSelect:e.chooseMedia,mediaType:l,mediaFilter:{mimeType:c,maxSize:s,minWidth:u,minHeight:d,maxWidth:p,maxHeight:m}})),r&&i.a.createElement(Rt,{onClose:e.closeExternalRefDialog,title:"External Media Reference",style:lo},i.a.createElement(de,{value:e.state.externalRefVal||"",onChange:e.setExternalRef}),i.a.createElement(ro,null,i.a.createElement(Ot,{light:!0,onClick:e.closeExternalRefDialog},"Cancel"),i.a.createElement(Ot,{onClick:e.closeAndSaveExternalRefDialog},"OK"))))}})}}],[{key:"validate",value:function(e,t){var n=bn(e,t);if(n)return n}},{key:"getHint",value:function(e){var t=e.minHeight,n=e.minWidth,a=e.maxHeight,i=e.maxWidth,r=e.maxSize,o=e.mimeType,l=[];return t&&l.push("Min H\xf6he: "+t+"px"),n&&l.push("Min Breite: "+n+"px"),a&&l.push("Max H\xf6he: "+a+"px"),i&&l.push("Max Breite: "+i+"px"),r&&l.push("Max Gr\xf6\xdfe: "+function(e,t){if(0===e)return"0 Bytes";var n=t||2,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(a>2?n:0))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]}(r,2)),o&&l.push("Erlaubtes Dateiformat: "+o),l.length>0?"(".concat(l.join(", "),")"):""}},{key:"itemFactory",value:function(e,t){return function(){return i.a.createElement(Rt,{onClose:function(){return t(null)},title:"Gallery",style:lo},i.a.createElement(Kr,{openFromInput:!0,onSelect:function(e){var n=Object(h.a)(e,1)[0];return t(n.id)}}))}}}]),n}(a.Component),po=Object(d.b)("div").withConfig({displayName:"MediaOutput__Root",componentId:"sc-1vlmxty-0"})(["display:flex;flex:1;align-items:center;"]),mo=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.fetchMedia()}},{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.fetchMedia()}},{key:"fetchMedia",value:function(){var e=this,t=this.props.value;t?t.includes("://")?this.setState({media:{id:t,originalname:t.replace(/.+\//,""),width:"auto",height:"auto"}}):k.loadMedia(t).then((function(t){return e.setState({media:t})})):this.setState({media:void 0})}},{key:"render",value:function(){var e=this.state.media;return i.a.createElement("div",null,i.a.createElement(po,null,e&&i.a.createElement(nr,e)))}}],[{key:"getSummaryImage",value:function(e){return i.a.createElement(n,e)}}]),n}(a.Component),fo=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.form,a=e.input,r=t.name,o=t.value;return"checkbox"===a?i.a.createElement("input",{type:"checkbox",checked:o,onChange:function(e){return n.setFieldValue(r,e.target.checked)}}):i.a.createElement(ma,{on:o,onClick:function(){return n.setFieldValue(r,!o)}})}}],[{key:"getDefaultValue",value:function(e){var t=e.defaultValue;return void 0!==t&&t}},{key:"validate",value:function(){}}]),n}(a.Component),ho=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value;return"checkbox"===e.input?i.a.createElement("input",{type:"checkbox",checked:t}):i.a.createElement(ma,{on:t,disabled:!0})}}]),n}(a.Component);function vo(){var e=Object(S.a)(["\n              min-height: 44px;\n            "]);return vo=function(){return e},e}function bo(){var e=Object(S.a)(["\n  border: none;\n  box-sizing: border-box;\n  padding: 4px 10px 4px 0;\n  flex: 1;\n  font-size: inherit;\n  height: 40px;\n  outline: none;\n  :focus,\n  :active {\n    border-color: none;\n    box-shadow: none;\n  }\n"]);return bo=function(){return e},e}var go=/W*(http:\/\/|https:\/\/|mailto:|tel:)W*|^\/.*$/gm,yo=Object(d.b)("div").withConfig({displayName:"ReferenceInput__Root",componentId:"y2eo0n-0"})(["",";padding:0;min-width:0;"],ce),xo=Object(d.a)(bo()),Oo=Object(d.b)("select").withConfig({displayName:"ReferenceInput__Select",componentId:"y2eo0n-1"})(["flex-shrink:0;display:flex;flex-direction:row;& > div:not(:last-child){border-left:grey;}",";width:auto;margin-right:0.6em;min-height:44px;"],ce),jo=Object(d.b)("option").withConfig({displayName:"ReferenceInput__Option",componentId:"y2eo0n-2"})(["background:",";"],(function(e){return e.active?"blue":"transparent"})),wo=Object(d.b)(de).withConfig({displayName:"ReferenceInput___StyledInput",componentId:"y2eo0n-3"})(["",""],(function(e){return e._css2})),Co=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={items:[],value:null,searchTerm:"",internalRef:!0,prevValue:null},e.autocomplete=void 0,e.onInputValueChange=function(t,n){var a=n.isOpen;t?(e.fetchItems({q:t}),e.setState({searchTerm:a?t:""})):e.fetchItems({})},e.onChange=function(t){e.setState({value:t}),e.props.form.setFieldValue(e.props.field.name,t?{id:t.id,model:t.model}:null),e.fetchItems({})},e.fetchItems=function(t){var n=e.props,a=n.type,i=n.models,r=Object(w.stringify)(Object(x.a)({},t,{linkable:i&&0===i.length,models:i&&i.length?i:void 0})),o="externalDataSource"in e.props;return k.get("/".concat(o?"externalDataSource":a,"?").concat(r)).then((function(t){var n=t.items;e.setState({items:Ue(n,e.state.searchTerm)})}))},e.fetchItem=function(t){var n=e.props.type;return(t||{}).model?k.get("/".concat(n,"/").concat(t.model,"/").concat(t.id,"/item")).then((function(t){e.setState({value:e.props.field.value?t:null,internalRef:!!t.model})})).catch((function(){e.props.form.setFieldValue(e.props.field.name,null)})):e.setState({internalRef:!1,value:t})},e.itemToString=function(e){return e?e.title:""},e.renderItem=function(e,t){return i.a.createElement(qe,{item:e,term:t})},e.onInputTypeChange=function(t){var n="intern"===t.currentTarget.value;e.setState((function(e){return{internalRef:n,value:e.prevValue?e.prevValue:null,prevValue:e.value}}))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.field.value;e&&this.fetchItem(e),this.fetchItems({})}},{key:"componentDidUpdate",value:function(e){var t=this.props.field.value;e.field.value!==t&&(t?this.fetchItem(t):this.setState({value:null,prevValue:null,internalRef:!0}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,a=t.items,r=t.internalRef,o=this.props,l=o.placeholder,c=o.allowAbsoluteRefs;return i.a.createElement("div",{style:{display:"flex"}},c&&i.a.createElement(Oo,{value:r?"intern":"extern",onChange:this.onInputTypeChange},i.a.createElement(jo,null,"intern"),i.a.createElement(jo,null,"extern")),r||!c?i.a.createElement(yo,null,i.a.createElement(ke,{toggleButton:!0,inputElementCss:xo,selectedItem:n||null,onInputValueChange:this.onInputValueChange,onChange:this.onChange,items:a,name:this.props.field.name,itemToString:this.itemToString,renderItem:function(t){return e.renderItem(t,e.state.searchTerm)},placeholder:l||void 0,style:{paddingLeft:"10px"}})):i.a.createElement(wo,{value:n?n.id:"",placeholder:"/path/to/page or https://site.de/path/to/page",onChange:function(t){e.onChange({id:t.currentTarget.value,model:void 0})},_css2:Object(d.a)(vo())}))}}],[{key:"validate",value:function(e,t){var n=bn(e?e.id:null,t);return n||(e&&!e.model&&e.id?e.id.toString().match(go)?void 0:'This url is not valid. Links to the same domain need to start with "/", to other domains with a valid protocol (http/https) or with a valid contact protocol (mailto/tel).':void 0)}}]),n}(a.Component),Eo=Object(d.b)("div").withConfig({displayName:"ReferenceOutput__ImageItem",componentId:"sc-1fym8e0-0"})(["display:flex;align-items:center;"]),ko=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.type,a=t.model,i=t.value;n===e.type&&a===e.model&&i===e.value||(i?this.fetchData():this.setState({value:null}))}},{key:"fetchData",value:function(){var e=this,t=this.props,n=t.type,a=t.value;(a||{}).model&&k.get("/".concat(n,"/").concat(a.model,"/").concat(a.id,"/item")).then((function(t){return e.setState({value:t})}))}},{key:"render",value:function(){var e=this.state.value;if(!e)return null;if("image"in e){var t=e.image&&(e.image.includes("://")?e.image:"/thumbs/square/".concat(e.image));return i.a.createElement(Eo,null,i.a.createElement(P,{src:t,alt:e.title,size:12}),e.title)}return e.title}}],[{key:"getSummaryText",value:function(e){return e.value?i.a.createElement(n,e):null}}]),n}(a.Component),So=Object(d.b)("div").withConfig({displayName:"SingleReferenceInput__Root",componentId:"sc-1shvmvc-0"})([""," padding:0;padding-left:10px;"],ce),_o=Object(d.b)("div").withConfig({displayName:"SingleReferenceInput__ImageItem",componentId:"sc-1shvmvc-1"})(["display:flex;align-items:center;"]),Io=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={items:[],value:null,clearSelection:null},e.autocomplete=void 0,e.onInputValueChange=function(t,n){t?e.fetchItems({q:t}):e.fetchItems({})},e.onChange=function(t,n){e.setState({value:t,clearSelection:n.clearSelection}),e.props.form.setFieldValue(e.props.field.name,t?t.id:null)},e.fetchItems=function(t){var n=e.props,a=n.type,i=n.models,r=Object(w.stringify)(t);return k.get("/".concat(a,"/").concat(i[0]).concat(r?"?"+r:"")).then((function(t){var n=t.items;return e.setState({items:n})}))},e.fetchItem=function(t){var n=e.props,a=n.type,i=n.models;return k.get("/".concat(a,"/").concat(i[0],"/").concat(t,"/item")).then((function(t){return e.setState({value:e.props.field.value?t:null})})).catch((function(){e.props.form.setFieldValue(e.props.field.name,null)}))},e.itemToString=function(e){return e?e.title:""},e.renderItem=function(e){if("image"in e){var t=e.image&&(e.image.includes("://")?e.image:"/thumbs/square/".concat(e.image));return i.a.createElement(_o,null,i.a.createElement(P,{src:t,alt:e.title,size:12}),e.title)}return e.title},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.field.value;e&&this.fetchItem(e),this.fetchItems({})}},{key:"componentDidUpdate",value:function(e){var t=this.props.field.value;e.field.value!==t&&t&&this.fetchItem(t)}},{key:"render",value:function(){var e=this.state,t=e.value,n=e.items,a=this.props.placeholder;return i.a.createElement(So,null,i.a.createElement(ke,{toggleButton:!0,inputElementCss:xo,selectedItem:t||null,onInputValueChange:this.onInputValueChange,onChange:this.onChange,name:this.props.field.name,items:n,itemToString:this.itemToString,renderItem:this.renderItem,placeholder:a||void 0}))}}],[{key:"validate",value:function(e,t){var n=bn(e,t);if(n)return n}}]),n}(a.Component),Lo=Object(d.b)("div").withConfig({displayName:"SingleReferenceOutput__ImageItem",componentId:"qk6ppd-0"})(["display:flex;align-items:center;"]),No=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.type,a=t.model,i=t.value;n===e.type&&a===e.model&&i===e.value||(i?this.fetchData():this.setState({value:null}))}},{key:"fetchData",value:function(){var e=this,t=this.props,n=t.type,a=t.model,i=t.value;k.get("/".concat(n,"/").concat(a,"/").concat(i,"/item")).then((function(t){return e.setState({value:t})}))}},{key:"render",value:function(){var e=this.state.value;if(!e)return null;if("image"in e){var t=e.image&&(e.image.includes("://")?e.image:"/thumbs/square/".concat(e.image));return i.a.createElement(Lo,null,i.a.createElement(P,{src:t,alt:e.title,size:12}),e.title)}return e.title}}],[{key:"getSummaryText",value:function(e){return e.value?i.a.createElement(n,e):null}}]),n}(a.Component),Vo=n(287),Mo=n.n(Vo),Do=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleChange=function(t){var n=e.props,a=n.field;n.form.setFieldValue(a.name,t)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.placeholder;return i.a.createElement(ya,Object.assign({},t,{onChange:this.handleChange,placeholder:n}))}}],[{key:"getDefaultValue",value:function(e){var t=e.defaultValue;return t?Mo()(t):""}},{key:"validate",value:function(e,t){var n=bn(e,t);return n||(void 0!==e&&""!==e?ua()(e).isValid()?void 0:"Invalid date":void 0)}}]),n}(a.Component),Ro=Object(d.b)("div").withConfig({displayName:"DateOutput__Container",componentId:"vzmzdp-0"})(["",""],se),zo=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).formatDate=function(e){return e?ua()(e).format("L"):""},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.value,t=void 0===e?"":e;return i.a.createElement(Ro,null,this.formatDate(t))}}]),n}(a.Component);function To(e){var t=e.field,n=e.form,a=(e.type,e.child),r=Object(O.a)(e,["field","form","type","child"]);if(null==n.initialValues[t.name]){var o=Jn(a);return i.a.createElement(o,Object.assign({},r,a,{field:t,form:n}))}var l=ei(a);return i.a.createElement(l,Object.assign({"data-name":t.name},r,a,{value:t.value}))}To.validate=function(e,t){var n=t.child,a=Object(O.a)(t,["child"]);return Jn(n).validate(e,Object(x.a)({},a,{},n))};var Fo=n(101),Ho=n.n(Fo),Po=Ho.a.base62.stringToNumber("z"),Ao=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",t=arguments.length>1?arguments[1]:void 0;if(t)return Ho.a.base62.mudder(e,t)[0];var n=Ho.a.base62.stringToDigits(e),a=!1,i=n.reduce((function(e,t){return a||(t<Po&&(a=!0,t++),e.push(t)),e}),[]);return a||i.push(0),Ho.a.base62.digitsToString(i)},qo=n(292),Bo=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={rowHeight:80},e.list=void 0,e.cache=new Zi.b({defaultHeight:80,fixedWidth:!0,keyMapper:function(){return 1}}),e.setList=function(t){e.list=t},e.rowRenderer=function(t){var n=t.key,a=t.parent,r=Object(O.a)(t,["key","parent"]);return i.a.createElement(Zi.a,{cache:e.cache,columnIndex:0,key:n,parent:a,rowIndex:r.index},e.props.renderRow(r))},e.onRowsRendered=function(t){if(e.props.visibleRows&&80===e.state.rowHeight){var n=e.cache.rowHeight({index:0});80!==n&&e.setState({rowHeight:n})}var a=e.props.onRowsRendered;a&&a(t)},e}return Object(c.a)(n,[{key:"renderList",value:function(e,t){var n=this.props,a=n.rowCount,r=Object(O.a)(n,["rowCount"]);return i.a.createElement(qo.a,Object.assign({},r,{ref:this.setList,width:e.width,height:e.height,deferredMeasurementCache:this.cache,rowHeight:this.cache.rowHeight,overscanRowCount:10,rowCount:a,rowRenderer:this.rowRenderer,onRowsRendered:this.onRowsRendered,className:t}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.rowCount,a=void 0===n?0:n,r=t.visibleRows,o=t.size,l=t.className,c=t.extraPadding,s=void 0===c?0:c;if(o)return this.renderList(o,l);if(r){var u=this.state.rowHeight,d=void 0===u?80:u,p=Math.min(a,r);return i.a.createElement(Gi.a,{disableHeight:!0},(function(t){var n=t.width;return e.renderList({width:n,height:p*d+s},l)}))}return i.a.createElement(Gi.a,null,(function(t){return e.renderList(t,l)}))}}]),n}(a.Component);function Uo(){var e=Object(S.a)(["\n  background-color: var(--accent-color) !important;\n  color: #fff;\n"]);return Uo=function(){return e},e}var Wo=Object(d.a)(Uo()),Zo=Object(d.b)(p.c).withConfig({displayName:"Item__StyledNavLink",componentId:"sc-1wvc5tk-0"})(["display:flex;width:100%;position:relative;background:#fff;text-decoration:none;color:inherit;border-bottom:1px solid #f5f5f5;padding:10px 15px 10px 23px;box-sizing:border-box;align-items:center;:hover{background-color:var(--primary-color);color:#fff;}&.active{width:100%;","}"],Wo),Yo=Object(d.b)("span").withConfig({displayName:"Item__Title",componentId:"sc-1wvc5tk-1"})(["display:block;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;"]),Go=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.title,a=e.image,r=e.style,o=e.baseUrl,l=e.className,c=e.small,s=a&&(a.includes("://")?a:"/thumbs/square/".concat(a));return i.a.createElement(Zo,Object.assign({to:"".concat(o,"/edit/").concat(t)},U("list-item"),{style:r,className:l}),i.a.createElement(P,{src:s||null,alt:n,size:c?12:24}),i.a.createElement(Yo,null,n))}}]),n}(a.Component);function $o(){var e=Object(S.a)(["\n          top: 0;\n          transform: translateY(-50%);\n        "]);return $o=function(){return e},e}function Xo(){var e=Object(S.a)(["\n          bottom: 0;\n          transform: translateY(+50%);\n        "]);return Xo=function(){return e},e}var Ko={width:"80vw",background:"#f5f5f5",maxWidth:800},Jo=Object(d.b)(Go).withConfig({displayName:"PositionModal__StyledItem",componentId:"sc-179l2dl-0"})(["pointer-events:none;padding-right:50px;padding-left:50px;"]),Qo=Object(d.b)("div").withConfig({displayName:"PositionModal__Field",componentId:"sc-179l2dl-1"})(["display:flex;flex-direction:column;width:100%;position:relative;background:#fff;box-sizing:border-box;align-items:center;&:first-of-type{> a{border-top:1px solid #f5f5f5;}}"]),el=Object(d.b)(Ot).withConfig({displayName:"PositionModal__StyledButton",componentId:"sc-179l2dl-2"})(["opacity:0.2;transition:opacity 0.3s ease-in-out;pointer-events:none;"]),tl=Object(d.b)("div").withConfig({displayName:"PositionModal__ButtonBar",componentId:"sc-179l2dl-3"})(["position:absolute;width:100%;z-index:9;display:flex;justify-content:space-between;cursor:pointer;"," &:hover{> button{opacity:1;}}"],(function(e){return e.bottom?Object(d.a)(Xo()):Object(d.a)($o())})),nl=Object(d.b)(Bo).withConfig({displayName:"PositionModal__StyledList",componentId:"sc-179l2dl-4"})(["background-color:#fff;outline:none;> div{overflow:visible !important;}padding-top:12px;padding-bottom:12px;"]),al=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={lastRequestedIndex:0,items:[],total:0},e.startIndex=0,e.fetchNextData=function(){e.fetchData(e.state.lastRequestedIndex,50)},e.fetchData=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,a=e.props.model,i=e.state.items;e.setState({lastRequestedIndex:t+n}),k.list(a,{offset:t,limit:n}).then((function(n){e.setState({items:i.slice(0,t).concat(n.items),total:n.total})}))},e.onRowsRendered=function(t){var n=t.startIndex,a=t.overscanStopIndex;e.startIndex=n,a>=e.state.lastRequestedIndex&&e.fetchNextData()},e.setPosition=function(t,n){if("asc"!==e.props.model.order){var a=[n,t];t=a[0],n=a[1]}e.props.onSave(Ao(t,t!==n?n:void 0))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.fetchNextData()}},{key:"refresh",value:function(){this.fetchData(this.startIndex,50)}},{key:"render",value:function(){var e=this,t=this.state.items,n=this.state.total,a=[i.a.createElement(Ot,{icon:jt.Clear,onClick:this.props.onClose,light:!0},"Abbrechen")];return this.props.id&&(t=t.filter((function(t){return String(t.id)!==e.props.id}))),i.a.createElement(Rt,{onClose:this.props.onClose,title:"set position",actionButtons:a,icon:jt.Sort,style:Ko},i.a.createElement(nl,{rowCount:n-1,items:t,onRowsRendered:this.onRowsRendered,visibleRows:7,extraPadding:24,renderRow:function(n){var a=n.key,r=n.index,o=n.style,l=t[r];return l?i.a.createElement(Qo,{style:o},0===r&&i.a.createElement(tl,{onClick:function(){return e.setPosition(void 0,l.orderValue)}},i.a.createElement(el,{icon:jt.ArrowRight,light:!0}),i.a.createElement(el,{icon:jt.ArrowLeft,light:!0})),i.a.createElement(Jo,Object.assign({baseUrl:"/"},l,{key:"".concat(a,"-").concat(l.id),index:r,small:!0})),i.a.createElement(tl,{bottom:!0,onClick:function(){return e.setPosition(l.orderValue,t[r+1]&&t[r+1].orderValue)}},i.a.createElement(el,{icon:jt.ArrowRight,light:!0}),i.a.createElement(el,{icon:jt.ArrowLeft,light:!0}))):i.a.createElement("div",{style:o})}}))}}]),n}(a.Component),il=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={show:!1},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.onSave=function(t){var n=e.props,a=n.field;n.form.setFieldValue(a.name,t),e.hideModal()},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.field,n=(e.form,e.model),a=e.id,r=Object(O.a)(e,["field","form","model","id"]),o=this.state.show,l=t.value,c=Object(O.a)(t,["value"]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ot,{icon:jt.Sort,type:"button",onClick:this.showModal},"set position"),o&&i.a.createElement(al,{onClose:this.hideModal,onSave:this.onSave,model:n,id:a}),i.a.createElement("input",Object.assign({value:l||""},c,r,{type:"hidden"})))}}],[{key:"validate",value:function(e,t){return!1}},{key:"getDefaultValue",value:function(e){return""}}]),n}(a.Component),rl=function(){return null};Kn({boolean:fo,content:Co,external:Co,list:ii,map:Fi,media:uo,object:wi,richtext:Wn,select:Ii,settings:Io,slug:xn,string:On,union:Si,number:Sn,date:Do,textarea:Cn,immutable:To,position:il,virtual:rl}),Qa({boolean:ho,content:ko,external:ko,list:si,media:mo,object:xi,richtext:Gn,select:Li,settings:No,string:yn,number:yn,union:_i,date:zo,textarea:yn,immutable:function(e){e.type;var t=e.child,n=Object(O.a)(e,["type","child"]),a=ei(t);return i.a.createElement(a,Object.assign({},t,n))},position:yn,virtual:rl});var ol=wi,ll=xi,cl=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e.fetchData=function(){var t=e.props,n=t.model,a=t.id,i=t.versions,r=t.rev,o=t.onReceiveData;void 0!==a&&void 0!==r?(k.loadVersion(n,a,Number(r)).then((function(t){e.setState(t),o&&o(t)})),i&&i.length&&k.loadVersion(n,a,i[0].rev).then((function(t){return e.setState({compareTo:t.data})}))):void 0!==a&&k.load(n,a).then((function(t){e.setState(t),o&&o(t)}))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.id,a=t.rev;n===e.id&&a===e.rev||this.fetchData()}},{key:"render",value:function(){var e=this.props,t=e.model,n=e.rev,a=this.state,r=a.data,o=a.compareTo;return r?i.a.createElement(ot,null,n&&i.a.createElement(ct,null,"Version ".concat(n)),i.a.createElement(st,null,i.a.createElement(ut,{style:{background:"none"}},i.a.createElement(dt,null,i.a.createElement(ll,{fields:t.fields,value:r,compareTo:o}))))):null}}]),n}(a.Component),sl={grey:"#aaa",yellow:"#dfda00",green:"#51c633",red:"#f96054"},ul=Object(d.b)("div").withConfig({displayName:"StatusLight",componentId:"sc-6lld67-0"})(["width:10px;height:10px;flex-shrink:0;border-radius:5px;margin:0 5px;display:inline-block;vertical-align:middle;background-color:",";"],(function(e){return sl[e.color||"grey"]}));function dl(){var e=Object(S.a)(["\n  a > &:hover {\n    text-decoration: underline;\n  }\n"]);return dl=function(){return e},e}function pl(){var e=Object(S.a)(["\n  background: var(--accent-color);\n  color: #fff;\n  & > div {\n    color: #fff;\n  }\n"]);return pl=function(){return e},e}var ml=Ct.publish,fl=Object(d.b)("div").withConfig({displayName:"VersionList__Root",componentId:"qk64vw-0"})(["background:var(--dark-grey);height:100%;border-left:1px solid #f5f5f5;"]),hl=Object(d.b)("div").withConfig({displayName:"VersionList__Author",componentId:"qk64vw-1"})(["color:#848484;font-size:0.75em;"]),vl=Object(d.b)("div").withConfig({displayName:"VersionList__Status",componentId:"qk64vw-2"})(["position:absolute;top:50%;right:10px;transform:translateY(-50%);font-size:0.75em;color:#848484;text-transform:uppercase;display:flex;align-items:center;"]),bl=d.b.div.withConfig({displayName:"VersionList__Version",componentId:"qk64vw-3"})(["display:flex;width:100%;position:relative;color:#fff;text-decoration:none;color:inherit;border-bottom:1px solid #f5f5f5;padding:10px 15px;box-sizing:border-box;align-items:center;background:#fff;cursor:pointer;display:block;position:relative;text-decoration:none;color:inherit;"]),gl=Object(d.b)(bl).withConfig({displayName:"VersionList___StyledVersion",componentId:"qk64vw-4"})(["",""],(function(e){return e._css2})),yl=Object(d.a)(pl()),xl=Object(d.a)(dl());var Ol=L((function(e){var t=e.model,n=e.versions,a=e.activeVersion,r=e.onSelectVersion,o=e.onUnpublish,l=e.user;if(!n)return null;var c=kt(l,t,ml),s="singleton"===t.collection;return i.a.createElement(fl,null,n.map((function(e){return i.a.createElement(gl,{key:e.rev,onClick:function(){return r(e)},_css2:a===e.rev?yl:""},i.a.createElement(Ie.a,{className:xl,date:new Date(new Date(e.date))}),e.published&&i.a.createElement(vl,null,i.a.createElement(ul,{color:"green"})," Published",c&&!s&&i.a.createElement(ca,{buttonStyle:{paddingTop:0,marginLeft:6},actions:[{label:"Unpublish",onClick:function(){return o()}}]})),i.a.createElement(hl,null,e.author_name))})))})),jl=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).state={},a.onSelectVersion=function(e){var t=e.rev;a.setState({activeVersion:t}),a.props.onSelect&&a.props.onSelect(String(t))};var i=a.props.versions;return a.state={activeVersion:i&&i[0]?String(i[0].latest_rev-1):void 0},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.model,n=e.versions,a=e.id,r=e.onUnpublish,o=this.state.activeVersion;return o?i.a.createElement(it,{width:300,primary:"right"},i.a.createElement(Ol,{model:t,versions:n,activeVersion:o,onSelectVersion:this.onSelectVersion,onUnpublish:r}),i.a.createElement(cl,{id:a,rev:o,model:t,versions:n})):null}}]),n}(a.Component),wl={width:"80vw",height:"90vh",background:"#f5f5f5",maxWidth:1600},Cl=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).onSelect=function(t){e.setState({rev:t})},e.onRestore=function(){var t=e.state.rev;t?e.props.onRestore(t):e.props.onClose()},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.model,n=e.id,a=e.versions,r=e.onClose,o=e.onUnpublish;if(!n||!a||a.length<2)return null;var l=[i.a.createElement(Ot,{icon:jt.History,onClick:this.onRestore},"Restore")];return i.a.createElement(Rt,{title:"History",onClose:r,style:wl,bodyStyle:{padding:0},actionButtons:l},i.a.createElement(jl,{id:n,model:t,versions:a,onSelect:this.onSelect,onUnpublish:o}))}}]),n}(a.Component),El="error-field-label",kl=Object(d.b)("div").withConfig({displayName:"Form__NewTag",componentId:"sc-14jwc9a-0"})(["color:var(--accent-color);font-size:1.4em;text-transform:uppercase;font-style:italic;margin-top:-1.4em;padding-left:24px;"]),Sl=$(function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={modal:null},e.initForm=function(){var t=e.props,n=t.clone,a=t.id,i=t.model,r=t.history,o=n||a;a&&r.location.state?(e.setState({initialData:r.location.state}),r.replace(r.location.pathname,null)):o?e.fetchData(o):e.setState({initialData:ol.getDefaultValue(i)})},e.fetchData=function(t){var n=e.props.model;t&&k.load(n,t).then((function(t){var n=t.data,a=t.visibleFrom,i=t.visibleUntil;e.setState({initialData:n,schedule:{visibleFrom:a,visibleUntil:i}})}))},e.restore=function(t,n){var a=e.props,i=a.model,r=a.id;r&&t&&k.loadVersion(i,r,t).then((function(e){var t=e.data;n(t)})),e.setState({modal:null})},e.onPreview=function(t,n){var a=e.props.baseUrls,i=W(t.values,"".concat(a.preview?a.preview:"").concat(n));i&&window.open(i)},e.submit=function(t){t.validateForm().then((function(n){var a=Object.keys(n).length;if(a){var i=e.props.model,r=Object.keys(n).map((function(e,t){var n=i.fields[e].label,r=t<a-1?",":"!";return"".concat(n||Object(ui.a)(e)).concat(r)})),o="Please fix errors in the following field".concat(1===a?"":"s",": ").concat(r),l=document.querySelector(".".concat(El));l&&l.scrollIntoView({behavior:"smooth",inline:"center"}),setTimeout((function(){alert(o)}),400)}else t.submitForm()}))},e.onSubmit=function(t,n){var a=n.setSubmitting,i=n.setFieldError,r=e.props,o=r.model,l=r.id,c=r.onSave;k.save(o,l,t).then((function(t){var n=t.id,i=t.data,r=t.visibleFrom,o=void 0===r?null:r,s=t.visibleUntil,u=void 0===s?null:s;a(!1),e.setState({initialData:i,schedule:{visibleFrom:o,visibleUntil:u}}),c&&c({id:n,data:i,isUpdate:!!l})})).catch((function(e){if(409===e.status){a(!1);var t=e.body,n=t.uniqueErrors,r=t.message;r?alert(r):n&&n.forEach((function(e){return i(e.field,"This field value needs to be unique, but exists already on another ".concat(o.singular,"!"))}))}else a(!1),alert("Something went wrong while submitting the form")}))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.initForm()}},{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&this.initForm()}},{key:"render",value:function(){var e=this,t=this.props,n=t.model,r=t.id,o=t.clone,l=t.versions,c=t.onDuplicate,s=t.onDelete,u=t.onPublish,d=t.onUnpublish,p=this.state,f=p.modal,h=p.initialData;return h?i.a.createElement(mt.c,{initialValues:h,validateOnChange:!1,validateOnBlur:!1,enableReinitialize:!0,onSubmit:this.onSubmit,render:function(t){var p=t.dirty,h=t.handleSubmit,v=t.isSubmitting,b=t.isValid,g=t.errors,y=t.setValues;return i.a.createElement(a.Fragment,null,r&&"history"===f&&i.a.createElement(Cl,{model:n,id:r,versions:l,onUnpublish:d,onRestore:function(t){return e.restore(t,y)},onClose:function(){return e.setState({modal:null})}}),r&&"schedule"===f&&i.a.createElement(La,{schedule:e.state.schedule,onClose:function(){return e.setState({modal:null})},onSchedule:function(t){return k.schedule(n,r,t).then((function(){e.setState({modal:null,schedule:t})}))}}),i.a.createElement(vn,{isNew:!r,isDirty:p||!!o,isSubmitting:v,hasSchedule:e.hasSchedule,model:n,versions:l,onDuplicate:c,onDelete:s,onPublishChange:u,onUnpublish:d,onPreview:function(){n.urlPath&&e.onPreview(t,n.urlPath)},onHistory:function(){e.setState({modal:"history"})},onSchedule:function(){e.setState({modal:"schedule"})},submitForm:function(){e.submit(t)},hasErrors:!b,errors:g}),i.a.createElement(ot,{id:"edit-form"},i.a.createElement("form",{onSubmit:h},i.a.createElement(m.a,{when:p,message:"There are changes that have not been saved. Is it ok to leave the page?"}),i.a.createElement(st,null,i.a.createElement(ut,{style:{padding:0,width:"100%"}},e.isNew&&i.a.createElement(kl,null,"new"),i.a.createElement(ol,{key:r||"new",fields:n.fields,form:t,model:n,id:r}))))))}}):null}},{key:"isNew",get:function(){var e=this.props,t=e.id,n=e.clone;return!t||n}},{key:"hasSchedule",get:function(){var e=this.state.schedule;return e&&(e.visibleFrom||e.visibleUntil)}}]),n}(a.Component)),_l={width:"80vw",height:"90vh",background:"#f5f5f5",maxWidth:1600},Il=$(function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={historyOpen:!1,formData:null},e.onPreview=function(t){var n=e.state.formData,a=e.props.baseUrls;if(n&&t){var i=W(n.data,"".concat(a.preview?a.preview:"").concat(t));i&&window.open(i)}},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.model,r=t.versions,o=t.onPublish;return i.a.createElement("div",null,this.renderHistory,i.a.createElement(vn,{model:a,versions:r,onHistory:function(){e.setState({historyOpen:!0})},hasSchedule:!1,onPublishChange:o,onPreview:function(){return e.onPreview(a.urlPath)}}),i.a.createElement(cl,{onReceiveData:function(t){return e.setState({formData:t})},versions:r,id:n,rev:r?r[0].rev:void 0,model:a}))}},{key:"renderHistory",get:function(){var e=this,t=this.state.historyOpen,n=this.props,a=n.model,r=n.id,o=n.versions,l=n.onUnpublish;return!t||!r||!o||o.length<2?null:i.a.createElement(Rt,{title:"History",onClose:function(){e.setState({historyOpen:!1})},style:_l,bodyStyle:{padding:0}},i.a.createElement(jl,{versions:o,id:r,model:a,onUnpublish:l}))}}]),n}(a.Component)),Ll=$(L(function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={itemNotFoundError:!1,conflictingRefs:null,conflictType:"delete"},e.onSave=function(t){var n=e.props.onSave;e.fetchVersions(),n&&n(t)},e.onDelete=function(t){(0,e.props.onDelete)(t).then((function(t){t&&t.conflictingRefs&&e.onConflict(t.conflictingRefs,"delete")}))},e.onConflict=function(t,n){e.setState({conflictingRefs:t,conflictType:n})},e.fetchVersions=function(){var t=e.props,n=t.id,a=t.model;a.versioned&&n&&k.getVersions(a,n).then((function(t){return e.setState({versions:t})})).catch((function(t){404===t.status&&e.setState({itemNotFoundError:!0})}))},e.onUnpublish=function(){var t=e.props,n=t.model,a=t.id;a&&k.unpublish(n,a).then((function(){e.fetchVersions()})).catch((function(t){if(400===t.status){var n=t.body;n&&n.conflictingRefs&&e.onConflict(n.conflictingRefs,"unpublish")}}))},e.renderErrors=function(){var t=e.state,n=t.conflictingRefs,a=t.conflictType;return n&&a?i.a.createElement(Ht,{onClose:function(){return e.setState({conflictingRefs:null})},items:n,type:a}):null},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.fetchVersions()}},{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&this.fetchVersions()}},{key:"render",value:function(){var e=this.props,t=e.model,n=e.user,r=e.id,o=e.modelPaths,l=this.state,c=l.versions,s=l.itemNotFoundError,u=kt(n,t,Ct.edit);return s?i.a.createElement(m.b,{to:"".concat(g).concat(o[t.type][t.name])}):u&&t.writable?i.a.createElement(a.Fragment,null,this.renderErrors(),i.a.createElement(Sl,Object.assign({versions:c},this.props,{onSave:this.onSave,onPublish:this.fetchVersions,onUnpublish:this.onUnpublish,onDelete:this.onDelete}))):!t.versioned||c&&c.length?i.a.createElement(Il,{versions:c,id:r,model:t,onPublish:this.fetchVersions,onUnpublish:this.onUnpublish}):null}}]),n}(a.Component))),Nl=Object(d.b)("div").withConfig({displayName:"EmptyList__Root",componentId:"sc-14326x2-0"})(["height:100%;position:relative;"]),Vl=Object(d.b)("div").withConfig({displayName:"EmptyList__Text",componentId:"sc-14326x2-1"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;text-align:center;overflow:hidden;color:#848484;"]),Ml=Object(d.b)("div").withConfig({displayName:"EmptyList__Heading",componentId:"sc-14326x2-2"})(["font-size:1.8em;margin-bottom:0.5em;"]);function Dl(){return i.a.createElement(Nl,null,i.a.createElement(Vl,null,i.a.createElement("svg",{width:"197",height:"170"},i.a.createElement("g",{fill:"#848484"},i.a.createElement("path",{d:"M140.33 131v35h-27.66v-21h-6.92C94.29 145 85 135.6 85 124v-21c0-3.87 3.1-7 6.92-7a6.96 6.96 0 0 1 6.91 7v21c0 3.92 3.12 7 6.92 7h6.92V61c0-7.73 6.19-14 13.83-14s13.83 6.27 13.83 14v56h6.92a6.96 6.96 0 0 0 6.92-7V96c0-3.87 3.1-7 6.91-7a6.96 6.96 0 0 1 6.92 7v14c0 11.6-9.29 21-20.75 21h-6.92zM22.9 31.33a3.9 3.9 0 0 1-3.9-3.91 3.9 3.9 0 0 1 3.9-3.92h31.15c4.3 0 7.8-3.5 7.8-7.83a7.81 7.81 0 0 0-7.8-7.84 7.6 7.6 0 0 0-5.49 2.31 3.78 3.78 0 0 1-5.53 0 3.96 3.96 0 0 1 0-5.56A15.63 15.63 0 0 1 54.05 0c8.6 0 15.58 7.01 15.58 15.67 0 8.65-6.97 15.66-15.58 15.66H22.9z"}),i.a.createElement("path",{d:"M81.32 39.17a3.9 3.9 0 0 0 3.9-3.92 3.9 3.9 0 0 0-6.67-2.78 3.86 3.86 0 0 1-5.5 0 3.99 3.99 0 0 1 0-5.52 11.62 11.62 0 0 1 8.27-3.45C87.77 23.5 93 28.76 93 35.25S87.77 47 81.32 47H26.79a3.9 3.9 0 0 1-3.9-3.92 3.9 3.9 0 0 1 3.9-3.91h54.53zM4 170c-2.2 0-4-1.71-4-3.83a3.92 3.92 0 0 1 4-3.85l189-.32c2.2 0 4 1.71 4 3.83a3.92 3.92 0 0 1-4 3.85L4 170z"}))),i.a.createElement(Ml,null,"No content yet"),"Start filling the vast"))}var Rl={width:"80vw",background:"#f5f5f5",maxWidth:800},zl=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;(Object(l.a)(this,n),(a=t.call(this,e)).state={values:{field:"none",operation:"none",value:""}},a.onSubmit=function(e,t){t.setSubmitting;var n=t.setFieldError,i="";"none"!==e.field?"none"!==e.operation?(null===e.value&&(e.value=""),""!==(i="boolean"===typeof e.value?!!e.value:"object"===typeof e.value?e.value:"string"===typeof e.value?e.value.trim():e.value)?a.props.onSave(Object(x.a)({},e,{value:i})):n("value","Please fill out a value")):n("operation","Please select a comparison"):n("field","Please select a field")},a.onDeleteFilter=function(){a.props.onSave({field:"none",operation:"none",value:""})},a.state.values=e.initial,"none"!==a.state.values.field)&&("content"===a.props.filter[a.state.values.field].type&&"number"===typeof a.state.values.value&&(a.state.values.value={id:a.state.values.value,model:"contentPages"}));return a}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t={field:{type:"string",input:"select",label:"Field:",values:[{label:"please choose",value:"none",disabled:!0}].concat(Object(Ni.a)(Object.entries(this.props.filter).map((function(e){var t=Object(h.a)(e,2),n=t[0];return{label:t[1].label||n.charAt(0).toUpperCase()+n.slice(1),value:n}}))))}},n=this.state.values;if("none"!==n.field){t=Object(x.a)({},t,{operation:{type:"string",input:"select",label:"Comparison operator:",values:["=","contains"]},value:{type:"string",label:"Value"}});var a=this.props.filter[n.field];"date"!==a.input&&"date"!==a.type||(t.operation.values=[">",">=","=","<=","<"],t.value.input="date"),"number"!==a.input&&"number"!==a.type||(t.operation.values=[">",">=","=","<=","<"],t.value.input="number"),"list"===a.type&&(t.operation.values=["=","contains"],t.value.label="value of list entry"),"content"===a.type&&(t.operation.values=["="],t.value.label="referenced document",t.value.type="content",t.value.models=a.models||[]),"boolean"===a.type&&(t.operation.values=["="],t.value.type="boolean"),t.operation.values.unshift({label:"please choose",value:"none"})}return i.a.createElement(mt.c,{key:n.field,initialValues:n,validate:function(t){return e.setState({values:t})},onSubmit:this.onSubmit,render:function(n){var a=n.handleSubmit,r=[i.a.createElement(Ot,{icon:jt.Trash,onClick:e.onDeleteFilter,light:!0},"Clear"),i.a.createElement(Ot,{icon:jt.Filter,onClick:a},"Apply")];return i.a.createElement(Rt,{onClose:e.props.onClose,title:"Filter",style:Rl,actionButtons:r},i.a.createElement("form",{onSubmit:a},i.a.createElement(st,null,i.a.createElement(ut,{style:{padding:0}},i.a.createElement(ol,{key:"filterModal",fields:t,form:n})))))}})}}]),n}(a.Component),Tl=n(192),Fl=n.n(Tl);function Hl(e,t,n){if(e){Object.keys(t.fields).forEach((function(a){return function e(t,a,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(t){if("object"===t.type&&Object.keys(t.fields).forEach((function(n){return e(t.fields[n],(a||{})[n],n,a,o+i+".")})),"list"===t.type&&Array.isArray(a)&&a.forEach((function(n,r){return e(t.item,n.value,String(r),a,o+i+".")})),"union"===t.type&&a){var l=a._type;e(t.types[l],a,void 0,void 0,o+i+".")}if("immutable"===t.type&&e(t.child,a,i,r,o),t.type in n){var c=n[t.type](a,t,(function(){r&&i&&Fl.a.set(r,i,void 0)}),o+i);"undefined"!==typeof c&&r&&i&&Fl.a.set(r,i,c)}}}(t.fields[a],e[a]||e.data&&e.data[a],a,e)}))}}var Pl=function(e){var t=Object(Ni.a)(e.uniqueFields||[]);return Hl({},e,{position:function(e,n,a,i){i&&t.push(i)}}),t},Al=["string","number","boolean"],ql=function(e){var t={};if("content"!==e.type||e.external)return t;var n=[].concat(Object(Ni.a)(Pl(e)),[e.title]),a=function(e,a,i){if("index"in e||n.includes(a)||i){var r=[].concat(Object(Ni.a)("models"in e&&e.models?e.models:[]),Object(Ni.a)("model"in e&&e.model?[e.model]:[]));t[a]={type:e.type,label:e.label},"input"in e&&(t[a].input=e.input),r.length>0&&(t[a].models=r)}};return Hl({},e,{string:function(e,t,n,i){a(t,i)},number:function(e,t,n,i){a(t,i)},boolean:function(e,t,n,i){a(t,i)},list:function(e,t,n,i){Al.includes(t.item.type)&&a(t,i,t.item.index)},content:function(e,t,n,i){a(t,i)}}),t};function Bl(){var e=Object(S.a)(["\n  background: none;\n  padding-right: 0;\n  & > svg {\n    color: var(--primary-color);\n  }\n  :hover {\n    background: none;\n    & > svg {\n      color: var(--accent-color);\n    }\n  }\n"]);return Bl=function(){return e},e}function Ul(){var e=Object(S.a)(["\n      border-bottom: 1px solid var(--primary-color);\n    "]);return Ul=function(){return e},e}var Wl=Object(d.b)("div").withConfig({displayName:"List__FilterBar",componentId:"sc-1idoqdh-0"})(["box-shadow:0 1px 3px rgba(0,0,0,0.12);box-sizing:border-box;position:sticky;top:0;width:100%;background:#fff;display:flex;justify-content:space-between;align-items:center;z-index:2;padding:0.65em 1em;> form{display:flex;width:100%;justify-content:space-between;align-items:center;}"]),Zl=Object(d.b)("input").withConfig({displayName:"List__InvisibleInput",componentId:"sc-1idoqdh-1"})(["border:none;color:var(--primary-color);text-align:right;width:100%;height:2em;outline:none;border-bottom:1px solid transparent;&:focus{border-bottom:1px solid var(--primary-color);}",""],(function(e){return e.hasValue&&Object(d.a)(Ul())})),Yl=Object(d.a)(Bl()),Gl=Object(d.b)(p.b).withConfig({displayName:"List__StyledLink",componentId:"sc-1idoqdh-2"})(["display:inline-flex;align-items:center;padding:0.7em 1em;margin-right:1em;border-radius:3px;text-decoration:none;text-transform:uppercase;white-space:nowrap;font-weight:500;font-size:0.8em;background:var(--primary-color);:hover{background:var(--accent-color);}color:#fff;& svg{margin:0 2px 0 -6px;}"]),$l=Object(d.b)(Ot).withConfig({displayName:"List___StyledButton",componentId:"sc-1idoqdh-3"})(["",""],Yl),Xl=Object(d.b)(Ot).withConfig({displayName:"List___StyledButton2",componentId:"sc-1idoqdh-4"})(["",""],Yl),Kl=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={lastRequestedIndex:0,items:[],filterOpen:!1,showFunc:function(){return!0},filterValues:{field:"none",operation:"none",value:""},searchTerm:""},e.startIndex=0,e.searchRef=i.a.createRef(),e.delete=function(t){var n=e.state.items.slice(),a=e.state.total||0,i=n.find((function(e){return Number(e.id)===Number(t)}));i&&a>0&&(n.splice(n.indexOf(i),1),e.setState({items:n,total:a-1}))},e.fetchNextData=function(){e.fetchData(e.state.lastRequestedIndex,50)},e.fetchData=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.state.searchTerm;a=a.trim();var i=e.props.model,r=e.state.items;e.setState({lastRequestedIndex:t+n}),k.list(i,{offset:t,limit:n,search:{term:a,scope:"title"}},e.createFilterCriterita()).then((function(n){e.setState({searchTerm:a,total:n.total,items:r.slice(0,t).concat(n.items)})}))},e.onRowsRendered=function(t){var n=t.startIndex,a=t.overscanStopIndex;e.startIndex=n,a>=e.state.lastRequestedIndex&&e.fetchNextData()},e.closeFilter=function(){return e.setState({filterOpen:!1,showFunc:function(){return!0},filterValues:{field:"none",operation:"none",value:""}},(function(){return e.refresh()}))},e.openFilter=function(){return e.setState({filterOpen:!0})},e.setFilter=function(t){if("none"===t.field||"none"===t.operation)return e.closeFilter();e.setState({filterOpen:!1,filterValues:t},(function(){return e.refresh()}))},e.createFilterCriterita=function(){var t=e.state.filterValues;if("none"===t.field||"none"===t.operation)return{};var n="eq",a="object"===typeof t.value?t.value.id:t.value;return">"===t.operation&&(n="gt"),"<"===t.operation&&(n="lt"),">="===t.operation&&(n="gte"),"<="===t.operation&&(n="lte"),"contains"===t.operation&&(n="like",a="%".concat(a,"%")),Object($n.a)({},"data.".concat(t.field),Object($n.a)({},n,a))},e.parseFilterValue=function(e,t){return"date"===e.input||"date"===e.type?new Date(t).toLocaleDateString():"boolean"===e.type?t.toString():t},e.onSearch=function(t){t.preventDefault();var n=e.state.searchTerm,a=t.target.elements.namedItem("searchTerm").value;a||n?e.refresh(a):e.searchRef.current&&e.searchRef.current.focus()},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.fetchNextData()}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.searchTerm;this.fetchData(this.startIndex,50,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.edit,a=t.match,r=this.state,o=r.total,l=r.filterOpen,c=r.filterValues,s=r.searchTerm,u=r.items,d=ql(this.props.model);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Wl,null,n&&i.a.createElement(Gl,Object.assign({},U("add-button"),{to:"".concat(a.url,"/edit")}),i.a.createElement(ft,{path:jt.BigPlus}),"Add"),i.a.createElement("form",{onSubmit:this.onSearch},i.a.createElement(Zl,{type:"text",name:"searchTerm",ref:this.searchRef,autoComplete:"off",defaultValue:s,hasValue:!!s.trim()}),i.a.createElement($l,{icon:jt.Search,type:"submit"})),Object.keys(d).length>0&&i.a.createElement(Xl,{icon:"none"===c.field?jt.Filter:jt.FilterRemove,type:"button",onClick:this.openFilter})),l&&i.a.createElement(zl,{onClose:this.closeFilter,filter:d,onSave:this.setFilter,initial:c}),i.a.createElement("div",{style:{height:"100%",overflow:"auto"}},s||o&&o>0||c.value?i.a.createElement(Bo,{key:s,rowCount:o||0,items:u,onRowsRendered:this.onRowsRendered,renderRow:function(t){var n=t.key,a=t.index,r=t.style,o=u[a];return o?i.a.createElement(Go,Object.assign({baseUrl:e.props.match.url},o,{key:"".concat(n,"-").concat(o.id),index:a,style:r})):i.a.createElement("div",{style:r})}}):i.a.createElement(Dl,null)))}}]),n}(a.Component),Jl=Object(d.b)("div").withConfig({displayName:"ErrorBoundary__Container",componentId:"sc-1qclniv-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;height:calc(100% - ",");margin:1em;"],"55px"),Ql=Object(d.b)(Ot).withConfig({displayName:"ErrorBoundary__StyledButton",componentId:"sc-1qclniv-1"})(["margin-top:13rem;"]),ec=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(c.a)(n,null,[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),Object(c.a)(n,[{key:"componentDidCatch",value:function(e,t){console.error(e)}},{key:"render",value:function(){return this.state.hasError?i.a.createElement(Jl,null,i.a.createElement("h2",null,"Ups, something went wrong."),i.a.createElement("p",null,"If you encounter this problem more then once, please let the IT guy know!"),i.a.createElement(Ql,{icon:jt.Reload,onClick:function(){return window.location.reload()}},"Reload")):this.props.children}}]),n}(a.Component);function tc(){var e=Object(S.a)(["\n  width: 100%;\n  height: 100%;\n"]);return tc=function(){return e},e}var nc,ac=d.b.iframe(tc()),ic=function(e){var t=Object(a.useState)(""),n=Object(h.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){var e=function(e){for(var t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var i=n[a];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}("session");e&&o(e)}),[o]),i.a.createElement(ac,{src:"".concat(e.url.replace("{sessionID}",r)),frameBorder:0})};!function(e){e.IFrame="iframe",e.Singleton="singleton",e.None="none"}(nc||(nc={}));var rc=L(function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).listView=i.a.createRef(),a.state={singletonData:null},a.fetchSingleton=function(){var e=a.props.model;k.list(e,{limit:1}).then((function(e){var t=e.items;if(t.length){var n=Object(h.a)(t,1)[0];a.setState({singletonData:n})}}))},a.onSave=function(e){var t=e.id,n=e.isUpdate,i=e.data,r=a.props,o=r.match,l=r.history,c=r.model,s=r.onChange;n||l.replace("".concat(o.url,"/edit/").concat(t),i),s&&s(c,t,i),a.listView.current.refresh()},a.duplicate=function(e){var t=a.props,n=t.match;t.history.replace("".concat(n.url,"/clone/").concat(e))},a.delete=function(e){var t=a.props,n=t.match,i=t.model,r=t.history;return k.del("/".concat(i.type,"/").concat(i.name,"/").concat(e)).then((function(){a.listView.current.delete(e),r.replace(n.url)})).catch((function(e){if(409===e.status){var t=e.body.message;alert(t)}if(400===e.status)return e.body}))},a.getEditProps=function(e){var t=e.match.params,n=t.id,i=t.clone;return i?{clone:i}:{id:n,onDuplicate:function(){return a.duplicate(n)},onDelete:function(){return a.delete(Number(n))}}},a.renderEdit=function(e){return i.a.createElement(Ll,Object.assign({},e,{model:a.props.model,onSave:a.onSave},a.getEditProps(e)))},a.renderSingletonEdit=function(e){var t=a.state.singletonData;return i.a.createElement(Ll,Object.assign({},e,{model:a.props.model,id:t?t.id:void 0,onSave:function(){a.fetchSingleton()}}))},e.model.collection===nc.Singleton&&a.fetchSingleton(),a}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.model,n=e.match,r=e.user;if(t.collection===nc.None)return null;if(!r)return null;var o=kt(r,t,Ct.edit);return t.collection===nc.IFrame&&t.iframeOptions?i.a.createElement(ic,t.iframeOptions):t.collection===nc.Singleton?i.a.createElement(ec,null,i.a.createElement(m.e,null,i.a.createElement(m.c,{exact:!0,path:n.url,render:this.renderSingletonEdit}),i.a.createElement(m.b,{to:n.url}))):i.a.createElement(ec,null,i.a.createElement(it,{width:320},i.a.createElement(rt,null,i.a.createElement(Kl,{edit:o,model:t,match:n,ref:this.listView})),i.a.createElement(a.Fragment,null,i.a.createElement(ec,null,i.a.createElement(m.e,null,i.a.createElement(m.c,{path:"".concat(n.url,"/edit/:id?"),render:this.renderEdit}),i.a.createElement(m.c,{path:"".concat(n.url,"/clone/:clone"),render:this.renderEdit}))))))}}]),n}(a.Component)),oc=Object(d.b)("div").withConfig({displayName:"Sidebar",componentId:"sc-1pn71en-0"})(["height:100%;box-sizing:border-box;background-color:#444950;padding-top:20px;"]);function lc(){var e=Object(S.a)(["\n  background-color: hsla(0, 0%, 100%, 0.1);\n  cursor: pointer;\n"]);return lc=function(){return e},e}var cc=Object(d.a)(lc()),sc=Object(d.b)("div").withConfig({displayName:"SidebarGroup__GroupHeader",componentId:"sc-1deg7kp-0"})(["display:block;color:#e8e8e8;text-decoration:none;padding:12px 18px;display:flex;align-items:center;padding-left:",";:hover{",";}"],(function(e){return"".concat(20*e.level,"px")}),cc),uc=Object(d.b)(Et.ChevronRight).withConfig({displayName:"SidebarGroup__ChevronRightIcon",componentId:"sc-1deg7kp-1"})(["margin-left:-10px;margin-right:2px;transform:",";"],(function(e){return e.expanded?"rotate(90deg)":"none"})),dc=Object(d.b)("div").withConfig({displayName:"SidebarGroup__GroupChildren",componentId:"sc-1deg7kp-2"})(["& > div > a{padding-left:",";}"],(function(e){return"".concat(20*e.level,"px")})),pc=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={open:!1},a.toggleOpen=function(){a.setState((function(e){return{open:!e.open}}))},a.state={open:e.initialOpen},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.level,t=Object(h.a)(this.props.children,2),n=t[0],a=t[1],r=this.state.open;return i.a.createElement("div",null,i.a.createElement(sc,Object.assign({},U("sidebar-group"),{onClick:this.toggleOpen,level:e}),i.a.createElement(uc,{expanded:r}),n),r&&i.a.createElement(dc,{level:e+1},a))}}]),n}(a.Component);function mc(){var e=Object(S.a)(["\n  background-color: hsla(0, 0%, 100%, 0.1);\n"]);return mc=function(){return e},e}var fc=Object(d.a)(mc()),hc=Object(d.b)(p.c).withConfig({displayName:"SidebarLink__StyledNavLink",componentId:"sc-1n5agv4-0"})(["display:block;color:#e8e8e8;text-decoration:none;padding:12px 18px;:hover{",";}&.active{",";}"],fc,fc);function vc(e){return i.a.createElement(hc,e)}var bc=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={openGroup:null},e.toggleGroup=function(t){e.setState((function(e){return{openGroup:e.openGroup===t?null:t}}))},e.containsModel=function(t,n){return t.some((function(t){return"model"===t.type&&t.model===n||"group"===t.type&&e.containsModel(t.items,n)}))},e.renderSidebar=function(t,n){var a=e.props.match.params.type,r=!1;return"model"===t.type?i.a.createElement("div",{key:t.model},i.a.createElement(vc,{to:"".concat(g).concat(t.path)},t.name)):t.items?(a&&(r=e.containsModel(t.items,a)),n=n||0,n++,i.a.createElement(pc,{key:t.name,level:n,initialOpen:r},t.name,t.items.map((function(t){return e.renderSidebar(t,n)})))):void 0},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.navigation;return t.length?i.a.createElement(oc,Object.assign({},U("models-sidebar"),{style:{overflowY:"scroll"}}),t.map((function(t){return e.renderSidebar(t)}))):null}}]),n}(a.Component),gc=i.a.createContext([]),yc=gc;function xc(e){var t=e.match,n=e.models,a=e.navigation,r=e.onChange;return i.a.createElement(yc.Provider,{value:n},i.a.createElement(it,{width:200},i.a.createElement(m.c,{path:"".concat(t.path,"/:type?"),render:function(e){return i.a.createElement(bc,{models:n,navigation:a,match:e.match})}}),i.a.createElement(m.e,null,i.a.createElement(m.c,{path:"".concat(t.path,"/:type"),render:function(e){var a=e.match.params.type,o=n.find((function(e){return e.name===a}));return o?i.a.createElement(rc,Object.assign({key:a,model:o,onChange:r},e)):(console.error("Unknown model: "+a),console.error("Redirect to: "+t.path),i.a.createElement(m.b,{to:"".concat(t.path)}))}}),i.a.createElement(m.c,{path:t.path,component:pt}))))}var Oc=function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),i.a.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z",fill:"#fff"}))},jc=Object(d.b)("div").withConfig({displayName:"Login__Circle",componentId:"sc-1bben1i-0"})(["width:42px;height:42px;background:var(--accent-color);border-radius:50%;margin:auto;display:flex;justify-content:center;align-items:center;"]),wc=Object(d.b)("div").withConfig({displayName:"Login__Root",componentId:"sc-1bben1i-1"})(["display:flex;height:100%;align-items:center;justify-content:center;background-size:cover;background-image:",";"],Object({NODE_ENV:"production",PUBLIC_URL:"/admin",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_TEST_ENV?"none":"url(https://source.unsplash.com/collection/2339015/".concat(window.innerWidth,"x").concat(window.innerHeight,")")),Cc=Object(d.b)("form").withConfig({displayName:"Login__Form",componentId:"sc-1bben1i-2"})(["border-radius:3px;background:#fff;padding:30px;display:flex;flex-direction:column;flex-basis:350px;box-shadow:0 0 20px rgba(0,0,0,0.25);"]),Ec=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).onSubmit=function(t,n){var a=n.setSubmitting;k.post("/login",t).then((function(t){a(!1),e.props.onSuccess(t)}),(function(e){a(!1),console.error("error",e)}))},e}return Object(c.a)(n,[{key:"render",value:function(){return i.a.createElement(wc,null,i.a.createElement(mt.c,{initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:this.onSubmit,render:function(e){var t=e.values,n=e.errors,a=e.touched,r=e.handleChange,o=e.handleBlur,l=e.handleSubmit,c=e.isSubmitting;return i.a.createElement(Cc,{onSubmit:l},i.a.createElement(jc,null,i.a.createElement(Oc,null)),i.a.createElement(pe,null,i.a.createElement(me,null,"Email"),i.a.createElement(de,{type:"email",name:"email",onChange:r,onBlur:o,value:t.email}),a.email&&n.email&&i.a.createElement(fe,null,n.email)),i.a.createElement(pe,null,i.a.createElement(me,null,"Password"),i.a.createElement(de,{type:"password",name:"password",onChange:r,onBlur:o,value:t.password}),a.password&&n.password&&i.a.createElement(fe,null,n.password)),i.a.createElement(he,{type:"submit",disabled:c},"Login"))}}))}}]),n}(a.Component),kc=Object(d.b)("figure").withConfig({displayName:"IconGallery__Figure",componentId:"sc-15tu3wb-0"})(["display:inline-block;margin:5px;position:relative;& > figcaption{display:none;position:absolute;z-index:1;padding:5px;background:#fff;box-shadow:0 2px 12px rgba(0,0,0,0.2);white-space:nowrap;}:hover{color:var(--primary-color);}:hover > figcaption{display:block;}"]),Sc=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e.filter=function(t){e.setState({filter:t.target.value.toLowerCase()})},e.match=function(t){var n=e.state.filter;return!n||t.search.includes(n)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;k.get("/icons").then((function(t){t.forEach((function(e){e.search=[e.name].concat(Object(Ni.a)(e.tags),Object(Ni.a)(e.aliases)).join().toLowerCase()})),e.setState({icons:t})}))}},{key:"render",value:function(){var e=this.state.icons;return e?i.a.createElement(ot,null,i.a.createElement("p",null,i.a.createElement("input",{type:"search",placeholder:"Search \u2026",onKeyUp:this.filter})),i.a.createElement("div",null,e.filter(this.match).map((function(e){return i.a.createElement(kc,{key:e.id},i.a.createElement(ft,{path:e.path}),i.a.createElement("figcaption",null,e.name))})))):null}}]),n}(a.Component),_c=Object(d.b)("div").withConfig({displayName:"Header",componentId:"sc-10zb1dw-0"})(["background:white;color:var(--dark-color);width:100%;padding:12px 16px;margin:0;box-sizing:border-box;font-weight:500;display:flex;justify-content:space-between;box-shadow:0px 2px 10px -3px rgba(0,0,0,0.1);margin-bottom:4px;"]),Ic=Object(d.b)("div").withConfig({displayName:"Item",componentId:"sc-16vvfrt-0"})(["cursor:pointer;padding:12px 16px;box-sizing:border-box;border-bottom:1px solid #f5f5f5;:hover{background-color:var(--light-color);}"]),Lc=Object(d.b)("div").withConfig({displayName:"NothingFound__Container",componentId:"mp4gw2-0"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;text-align:center;"]);function Nc(e){var t=e.text;return i.a.createElement(Lc,null,i.a.createElement("span",null,t))}function Vc(e){var t=e.fetchItems,n=e.noResultText,r=Object(a.useState)(0),o=Object(h.a)(r,2),l=o[0],c=o[1],s=Object(a.useState)(null),u=Object(h.a)(s,2),d=u[0],p=u[1];Object(a.useEffect)((function(){var e=!1;return function(){var n=Object(qi.a)(Ai.a.mark((function n(){var a,i,r;return Ai.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(l,50);case 2:a=n.sent,i=a.items,r=a.total,e||p({total:r,items:d?d.items.concat(i):i});case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),function(){e=!0}}),[l]);if(!d)return null;var m=d.total,f=d.items;return m>0?i.a.createElement(Bo,{rowCount:m||0,items:f,visibleRows:8,onRowsRendered:function(e){e.overscanStopIndex>=l+50&&c(l+50)},renderRow:function(e){var t=e.key,n=e.index,a=e.style,r=f[n];return r?i.a.createElement(Ic,{style:a},i.a.createElement(Be,{key:"".concat(t,"-").concat(r.id),item:r})):i.a.createElement("div",{style:a})}}):i.a.createElement(Nc,{text:n||""})}function Mc(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(_c,null,"Unpublished changes"),i.a.createElement(Vc,{fetchItems:function(e,t){return k.get("/dashboard/unpublished?limit=".concat(t,"&offset=").concat(e))},noResultText:"There are no unpublished changes"}))}var Dc=Object(d.b)("div").withConfig({displayName:"UpdatedContent__Filter",componentId:"ywtqo7-0"})(["display:inline-flex;justify-content:center;& > span{margin-right:4px;}"]);function Rc(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),n=t[0],r=t[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(_c,null,i.a.createElement("span",null,"Recently updated"),i.a.createElement(Dc,null,i.a.createElement("span",null,"By me"),i.a.createElement(ma,{on:n,onClick:function(){return r(!n)}}))),i.a.createElement(Vc,{key:n?0:1,fetchItems:function(e,t){return k.get("/dashboard/".concat(n?"updated-by-user":"updated","?limit=").concat(t,"&offset=").concat(e))},noResultText:"There is no updated content"}))}var zc=Object(d.b)("div").withConfig({displayName:"Dashboard__Container",componentId:"sc-1mwgok1-0"})(["padding:36px;width:100%;"]),Tc=Object(d.b)("div").withConfig({displayName:"Dashboard__Flex",componentId:"sc-1mwgok1-1"})(["display:flex;flex-direction:row;justify-content:center;& > div:not(:last-child){margin-right:48px;}@media screen and (max-width:786px){flex-direction:column;& > div:not(:last-child){margin-right:0;margin-bottom:48px;}}"]),Fc=Object(d.b)("h1").withConfig({displayName:"Dashboard__Title",componentId:"sc-1mwgok1-2"})(["text-align:center;margin-top:0;margin-bottom:36px;font-weight:200;"]),Hc=Object(d.b)("div").withConfig({displayName:"Dashboard__Column",componentId:"sc-1mwgok1-3"})(["flex:1;background:white;border-radius:3px;overflow:hidden;max-width:450px;box-shadow:0px 2px 10px -3px rgba(0,0,0,0.1);min-height:515px;position:relative;@media screen and (max-width:786px){max-width:100%;}"]);function Pc(){var e=Object(a.useState)(null),t=Object(h.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=!1;return function(){var t=Object(qi.a)(Ai.a.mark((function t(){var n,a,i,o;return Ai.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([k.get("/dashboard/updated?limit=0"),k.get("/dashboard/updated-by-user?limit=0")]);case 2:n=t.sent,a=Object(h.a)(n,2),i=a[0].total,o=a[1].total,e||r({total:i,totalByUser:o});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[]),i.a.createElement(zc,null,n&&i.a.createElement(Fc,null,"There are already ",i.a.createElement("b",null,n.total.toLocaleString())," items and you worked on ",i.a.createElement("b",null,n.totalByUser.toLocaleString())," of them."),i.a.createElement(Tc,null,i.a.createElement(Hc,null,i.a.createElement(Mc,null)),i.a.createElement(Hc,null,i.a.createElement(Rc,null))))}var Ac=n(289),qc=n.n(Ac),Bc=n(290),Uc=n.n(Bc),Wc=qc()({sensitive:!1,strict:!1,end:!1}),Zc=function e(t){return function(n,a){return n||("items"in a?a.items.reduce(e(t),""):a.model===t.name?a.path:"")}},Yc=function(e){var t=e.contentModels,n=e.navigation,r=Object(O.a)(e,["contentModels","navigation"]),o=Object(a.useState)(void 0),l=Object(h.a)(o,2),c=l[0],s=l[1];return Uc()(Object(qi.a)(Ai.a.mark((function e(){var a,i,o,l,c,u,d,p;return Ai.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.location.search.replace("?",""),!(i=Object(w.parse)(a)).q||!n){e.next=17;break}if(!((o=t.filter((function(e){if(e.urlPath&&e.urlPath===i.q)return!0;if(e.urlPath&&e.urlPath.includes(":")&&Wc(e.urlPath)(i.q))return!0;return!1}))).length>0)){e.next=17;break}if(o=o.sort((function(e,t){if(!e.urlPath)return 1;if(!t.urlPath)return-1;var n=(e.urlPath.match(/\//g)||[]).length,a=(t.urlPath.match(/\//g)||[]).length;return n<a?1:n>a?-1:0})),!((l=n.reduce(Zc(o[0]),""))&&o[0].urlPath&&o[0].urlPath.includes(":"))){e.next=15;break}return c=Wc(o[0].urlPath),u=c(i.q),d=Object.entries(u).reduce((function(e,t){var n=Object(h.a)(t,2),a=n[0],i=n[1];return Object(x.a)({},e,Object($n.a)({},"data."+a,{eq:i}))}),{}),e.next=13,k.list(o[0],{offset:0,limit:1},d);case 13:(p=e.sent).items.length>0&&(l=l+"/edit/"+p.items[0].id);case 15:if(!l){e.next=17;break}return e.abrupt("return",s(l));case 17:return e.abrupt("return",s(!1));case 18:case"end":return e.stop()}}),e)}))),[r.location.search]),!1===c?i.a.createElement(i.a.Fragment,null,"Model not found"):c?i.a.createElement(m.b,{to:g+c}):i.a.createElement(i.a.Fragment,null,"Loading")},Gc=Object(d.b)("div").withConfig({displayName:"App__Root",componentId:"zzudme-0"})(["height:100%;display:flex;flex-direction:column;"]),$c=Object(d.b)("div").withConfig({displayName:"App__Main",componentId:"zzudme-1"})(["position:relative;flex:1;display:flex;max-height:calc(100vh - ",");"],"55px"),Xc=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e.fetchInfo=function(){k.get("/info").then((function(t){return e.setState(t)})).catch((function(t){e.setState({user:void 0})}))},e.settingsChanged=function(t,n,a){"User"===t.name&&e.fetchInfo()},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.fetchInfo()}},{key:"render",value:function(){var e=this,t=this.state,n=t.models,i=t.user,r=t.navigation,o=void 0===r?[]:r,l=t.modelPaths,c=void 0===l?null:l,s=t.baseUrls,u=void 0===s?null:s;return i?n?a.createElement(ec,null,a.createElement(f.a,{client:Object(f.b)({baseUrl:k.baseURI})},a.createElement(I.Provider,{value:i},a.createElement(G.Provider,{value:{modelPaths:c,baseUrls:u}},a.createElement(p.a,null,a.createElement(Gc,null,a.createElement(et,{navigation:o}),a.createElement(ec,null,a.createElement($c,null,a.createElement(m.e,null,a.createElement(m.c,{path:"".concat(g,"/dashboard"),render:function(e){return a.createElement(Pc,null)}}),o.map((function(e){return a.createElement(m.c,{key:e.path,path:"".concat(g).concat(e.path),render:function(t){switch(e.type){case"model":return a.createElement(it,null,a.createElement(rc,Object.assign({},t,{model:n.content.find((function(t){return t.name===e.model}))})));default:return a.createElement(xc,Object.assign({},t,{models:n.content,navigation:e.items}))}}})})),a.createElement(m.c,{path:"".concat(g,"/media"),render:function(e){return a.createElement(Kr,Object.assign({},e,{model:n.media}))}}),a.createElement(m.c,{path:"".concat(g,"/settings"),render:function(t){return a.createElement(xc,Object.assign({},t,{models:n.settings,navigation:n.settings.map((function(e){var t=e.name,n=e.plural;return{type:"model",model:t,path:"/settings/".concat(t),name:n}})),onChange:e.settingsChanged}))}}),a.createElement(m.c,{path:"".concat(g,"/icons"),component:Sc}),a.createElement(m.c,{path:"".concat(g,"/editURL"),render:function(e){return a.createElement(Yc,Object.assign({},e,{contentModels:n.content,navigation:o}))}}),a.createElement(m.c,{exact:!0,path:g},a.createElement(m.b,{to:"".concat(g,"/dashboard")}))))))))))):null:a.createElement(Ec,{onSuccess:this.fetchInfo})}}]),n}(a.Component),Kc=n(566),Jc=n(291),Qc=n.n(Jc);Kc.a.locale(Qc.a),r.render(a.createElement(Xc,null),document.getElementById("root"))}},[[304,1,2]]]);
//# sourceMappingURL=main.92be4338.chunk.js.map